/*! For license information please see app.119e2fa5cdf5fb40f1a9.js.LICENSE.txt */
(()=>{var t={45:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(206));e.default=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=e,this.schema=n,this.fetch=r}select(t,{head:e=!1,count:n}={}){const r=e?"HEAD":"GET";let o=!1;const a=(null!=t?t:"*").split("").map((t=>/\s/.test(t)&&!o?"":('"'===t&&(o=!o),t))).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new i.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:n=!0}={}){const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(t)){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]);if(e.length>0){const t=[...new Set(e)].map((t=>`"${t}"`));this.url.searchParams.set("columns",t.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:o=!0}={}){const a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==e&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]);if(e.length>0){const t=[...new Set(e)].map((t=>`"${t}"`));this.url.searchParams.set("columns",t.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),e&&n.push(`count=${e}`),this.headers.Prefer=n.join(","),new i.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const e=[];return t&&e.push(`count=${t}`),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new i.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},56:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},a=[],s=0;s<t.length;s++){var c=t[s],l=r.base?c[0]+r.base:c[0],u=o[l]||0,h="".concat(l," ").concat(u);o[l]=u+1;var d=n(h),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var f=i(p,r);r.byIndex=s,e.splice(s,0,{identifier:h,updater:f,references:1})}a.push(h)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=n(o[a]);e[s].references--}for(var c=r(t,i),l=0;l<o.length;l++){var u=n(o[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}o=c}}},113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},206:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(261));class o extends i.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map((t=>"string"==typeof t&&new RegExp("[,()]").test(t)?`"${t}"`:`${t}`)).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,e){return"string"==typeof e?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return"string"==typeof e?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return"string"==typeof e?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");const o=void 0===n?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach((([t,e])=>{this.url.searchParams.append(t,`eq.${e}`)})),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}}e.default=o},261:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(660));class o extends i.default{select(t){let e=!1;const n=(null!=t?t:"*").split("").map((t=>/\s/.test(t)&&!e?"":('"'===t&&(e=!e),t))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=void 0===r?"offset":`${r}.offset`,o=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,""+(e-t+1)),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=null!==(a=this.headers.Accept)&&void 0!==a?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${s};`,this}rollback(){var t;return(null!==(t=this.headers.Prefer)&&void 0!==t?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}e.default=o},279:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PostgrestError=e.PostgrestBuilder=e.PostgrestTransformBuilder=e.PostgrestFilterBuilder=e.PostgrestQueryBuilder=e.PostgrestClient=void 0;const i=r(n(961));e.PostgrestClient=i.default;const o=r(n(45));e.PostgrestQueryBuilder=o.default;const a=r(n(206));e.PostgrestFilterBuilder=a.default;const s=r(n(261));e.PostgrestTransformBuilder=s.default;const c=r(n(660));e.PostgrestBuilder=c.default;const l=r(n(818));e.PostgrestError=l.default,e.default={PostgrestClient:i.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:c.default,PostgrestError:l.default}},314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);r&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),e.push(u))}},e}},469:()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function n(t){var e="function"==typeof Map?new Map:void 0;return n=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(r())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var a=new(t.bind.apply(t,o));return n&&i(a,n.prototype),a}(t,arguments,o(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,t)},n(t)}function r(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(r=function(){return!!t})()}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function a(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}var c=function(n){function s(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),a(e=function(e,n,i){return n=o(n),function(e,n){if(n&&("object"==t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(e,r()?Reflect.construct(n,i||[],o(e).constructor):n.apply(e,i))}(this,s),"_shadowRoot",null),a(e,"_style",null),e._shadowRoot=e.attachShadow({mode:"open"}),e._style=document.createElement("style"),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(s,n),c=s,(l=[{key:"_updateStyle",value:function(){this._style.textContent="\n      :host {\n        display: block;\n        background-color: #f5f5f5;\n        border-top: 1px solid #ddd;\n        font-family: Arial, sans-serif;\n      }\n\n      .footer {\n        padding: 24px 20px;\n        text-align: center;\n        color: #000;\n        font-weight: bold;\n        font-size: 20px;\n      }\n\n      @media (max-width: 768px) {\n        .footer {\n          padding: 16px 10px;\n          font-size: 18px;\n        }\n      }\n\n      @media (max-width: 480px) {\n        .footer {\n          padding: 12px 8px;\n          font-size: 16px;\n        }\n      }\n    "}},{key:"_emptyContent",value:function(){this._shadowRoot.innerHTML=""}},{key:"connectedCallback",value:function(){this.render()}},{key:"render",value:function(){this._emptyContent(),this._updateStyle(),this._shadowRoot.appendChild(this._style),this._shadowRoot.innerHTML+='\n      <div class="footer">\n        &copy; DiagnoSmart<br/>\n      </div>\n    '}}])&&e(c.prototype,l),Object.defineProperty(c,"prototype",{writable:!1}),c;var c,l}(n(HTMLElement));customElements.define("footer-bar",c)},519:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.version=void 0,e.version="0.0.0-automated"},530:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_HEADERS=void 0;const r=n(519);e.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`}},540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},591:t=>{"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},601:t=>{"use strict";t.exports=function(t){return t[1]}},659:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},660:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(907)),o=r(n(818));e.default=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:"undefined"==typeof fetch?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async t=>{var e,n,r;let i=null,a=null,s=null,c=t.status,l=t.statusText;if(t.ok){if("HEAD"!==this.method){const e=await t.text();""===e||(a="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?e:JSON.parse(e))}const r=null===(e=this.headers.Prefer)||void 0===e?void 0:e.match(/count=(exact|planned|estimated)/),o=null===(n=t.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&o&&o.length>1&&(s=parseInt(o[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,s=null,c=406,l="Not Acceptable"):a=1===a.length?a[0]:null)}else{const e=await t.text();try{i=JSON.parse(e),Array.isArray(i)&&404===t.status&&(a=[],i=null,c=200,l="OK")}catch(n){404===t.status&&""===e?(c=204,l="No Content"):i={message:e}}if(i&&this.isMaybeSingle&&(null===(r=null==i?void 0:i.details)||void 0===r?void 0:r.includes("0 rows"))&&(i=null,c=200,l="OK"),i&&this.shouldThrowOnError)throw new o.default(i)}return{error:i,data:a,count:s,status:c,statusText:l}}));return this.shouldThrowOnError||(n=n.catch((t=>{var e,n,r;return{error:{message:`${null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"FetchError"}: ${null==t?void 0:t.message}`,details:`${null!==(n=null==t?void 0:t.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null==t?void 0:t.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}}))),n.then(t,e)}returns(){return this}overrideTypes(){return this}}},664:()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t){var o="function"==typeof Map?new Map:void 0;return e=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(t))return o.get(t);o.set(t,e)}function e(){return function(t,e,i){if(n())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var a=new(t.bind.apply(t,o));return i&&r(a,i.prototype),a}(t,arguments,i(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r(e,t)},e(t)}function n(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(n=function(){return!!t})()}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}var o=function(e){function o(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=function(e,r,o){return r=i(r),function(e,n){if(n&&("object"==t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(e,n()?Reflect.construct(r,o||[],i(e).constructor):r.apply(e,o))}(this,o)).attachShadow({mode:"open"}),e.shadowRoot.innerHTML='\n      <style>\n        nav {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 1rem;\n          background-color: #076ba1;\n        }\n\n        nav img {\n          height: 45px;\n          margin-left: 1rem;\n          margin-top: 0.7rem;\n        }\n\n        ul {\n          display: flex;\n          gap: 1.25rem;\n          padding: 0;\n          list-style-type: none; \n          margin-right: 1rem;\n          font-size: 20px;\n        }\n\n        ul li a {\n          color: white;\n          font-weight: bold;\n          text-decoration: none;\n        }\n\n        ul li a:hover {\n          color: #000000;\n        }\n\n        @media (max-width: 768px) {\n          nav {\n            flex-direction: column;\n            align-items: flex-start;\n          }\n\n          nav img {\n            margin-top: 0;\n            margin-left: 0;\n          }\n\n          ul {\n            flex-direction: column;\n            gap: 1rem;\n            width: 100%;\n            text-align: left;\n          }\n\n          ul li {\n            width: 100%;\n          }\n        }\n\n        @media (max-width: 480px) {\n          nav {\n            padding: 0.5rem;\n          }\n\n          ul {\n            font-size: 16px;\n          }\n        }\n      </style>\n      <nav>\n        <a href="#/">\n          <img src="./images/icon.png" alt="DiagnoSmart Icon" />\n        </a>\n        <ul>\n          <li><a href="#/">Home</a></li>\n          <li><a href="#/feedback">Feedback</a></li>\n          <li><a href="#/contact">Contact</a></li>\n        </ul>\n      </nav>\n    ',e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)}(o,e),a=o,Object.defineProperty(a,"prototype",{writable:!1}),a;var a}(e(HTMLElement));customElements.define("nav-bar",o)},818:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}e.default=n},825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},907:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Headers:()=>a,Request:()=>s,Response:()=>c,default:()=>o,fetch:()=>i});var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();const i=r.fetch,o=r.fetch.bind(r),a=r.Headers,s=r.Request,c=r.Response},916:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(601),i=n.n(r),o=n(314),a=n.n(o)()(i());a.push([t.id,"*, ::before, ::after {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}/*\n! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com\n*//*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: '';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user's configured `sans` font-family by default.\n5. Use the user's configured `sans` font-feature-settings by default.\n6. Use the user's configured `sans` font-variation-settings by default.\n7. Disable tap highlights on iOS\n*/\n\nhtml,\n:host {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -moz-tab-size: 4; /* 3 */\n  -o-tab-size: 4;\n     tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n  -webkit-tap-highlight-color: transparent; /* 7 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\n*/\n\nbody {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user's configured `mono` font-family by default.\n2. Use the user's configured `mono` font-feature-settings by default.\n3. Use the user's configured `mono` font-variation-settings by default.\n4. Correct the odd `em` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace; /* 1 */\n  font-feature-settings: normal; /* 2 */\n  font-variation-settings: normal; /* 3 */\n  font-size: 1em; /* 4 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  letter-spacing: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\ninput:where([type='button']),\ninput:where([type='reset']),\ninput:where([type='submit']) {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type='search'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to `inherit` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nReset default styling for dialogs.\n*/\ndialog {\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user's configured gray 400 color.\n*/\n\ninput::-moz-placeholder, textarea::-moz-placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role=\"button\"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don't get the pointer cursor.\n*/\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n[hidden]:where(:not([hidden=\"until-found\"])) {\n  display: none;\n}\n.container {\n  width: 100%;\n}\n@media (min-width: 640px) {\n\n  .container {\n    max-width: 640px;\n  }\n}\n@media (min-width: 768px) {\n\n  .container {\n    max-width: 768px;\n  }\n}\n@media (min-width: 1024px) {\n\n  .container {\n    max-width: 1024px;\n  }\n}\n@media (min-width: 1280px) {\n\n  .container {\n    max-width: 1280px;\n  }\n}\n@media (min-width: 1536px) {\n\n  .container {\n    max-width: 1536px;\n  }\n}\n.absolute {\n  position: absolute !important;\n}\n.relative {\n  position: relative !important;\n}\n.-top-5 {\n  top: -1.25rem !important;\n}\n.left-4 {\n  left: 1rem !important;\n}\n.z-10 {\n  z-index: 10 !important;\n}\n.mx-auto {\n  margin-left: auto !important;\n  margin-right: auto !important;\n}\n.mb-1 {\n  margin-bottom: 0.25rem !important;\n}\n.mb-10 {\n  margin-bottom: 2.5rem !important;\n}\n.mb-2 {\n  margin-bottom: 0.5rem !important;\n}\n.mb-20 {\n  margin-bottom: 5rem !important;\n}\n.mb-3 {\n  margin-bottom: 0.75rem !important;\n}\n.mb-4 {\n  margin-bottom: 1rem !important;\n}\n.ml-2 {\n  margin-left: 0.5rem !important;\n}\n.mt-1 {\n  margin-top: 0.25rem !important;\n}\n.mt-10 {\n  margin-top: 2.5rem !important;\n}\n.mt-2 {\n  margin-top: 0.5rem !important;\n}\n.mt-3 {\n  margin-top: 0.75rem !important;\n}\n.mt-4 {\n  margin-top: 1rem !important;\n}\n.mt-5 {\n  margin-top: 1.25rem !important;\n}\n.block {\n  display: block !important;\n}\n.flex {\n  display: flex !important;\n}\n.inline-flex {\n  display: inline-flex !important;\n}\n.grid {\n  display: grid !important;\n}\n.hidden {\n  display: none !important;\n}\n.h-10 {\n  height: 2.5rem !important;\n}\n.h-48 {\n  height: 12rem !important;\n}\n.h-auto {\n  height: auto !important;\n}\n.h-full {\n  height: 100% !important;\n}\n.max-h-0 {\n  max-height: 0px !important;\n}\n.max-h-48 {\n  max-height: 12rem !important;\n}\n.min-h-screen {\n  min-height: 100vh !important;\n}\n.w-10 {\n  width: 2.5rem !important;\n}\n.w-64 {\n  width: 16rem !important;\n}\n.w-full {\n  width: 100% !important;\n}\n.max-w-6xl {\n  max-width: 72rem !important;\n}\n.cursor-pointer {\n  cursor: pointer !important;\n}\n.list-inside {\n  list-style-position: inside !important;\n}\n.list-disc {\n  list-style-type: disc !important;\n}\n.grid-cols-1 {\n  grid-template-columns: repeat(1, minmax(0, 1fr)) !important;\n}\n.flex-col {\n  flex-direction: column !important;\n}\n.flex-wrap {\n  flex-wrap: wrap !important;\n}\n.items-center {\n  align-items: center !important;\n}\n.justify-center {\n  justify-content: center !important;\n}\n.gap-1 {\n  gap: 0.25rem !important;\n}\n.gap-10 {\n  gap: 2.5rem !important;\n}\n.gap-2 {\n  gap: 0.5rem !important;\n}\n.gap-6 {\n  gap: 1.5rem !important;\n}\n.space-y-4 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0 !important;\n  margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse))) !important;\n  margin-bottom: calc(1rem * var(--tw-space-y-reverse)) !important;\n}\n.space-y-6 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0 !important;\n  margin-top: calc(1.5rem * calc(1 - var(--tw-space-y-reverse))) !important;\n  margin-bottom: calc(1.5rem * var(--tw-space-y-reverse)) !important;\n}\n.overflow-hidden {\n  overflow: hidden !important;\n}\n.overflow-y-auto {\n  overflow-y: auto !important;\n}\n.rounded {\n  border-radius: 0.25rem !important;\n}\n.rounded-2xl {\n  border-radius: 1rem !important;\n}\n.rounded-full {\n  border-radius: 9999px !important;\n}\n.rounded-lg {\n  border-radius: 0.5rem !important;\n}\n.rounded-md {\n  border-radius: 0.375rem !important;\n}\n.rounded-xl {\n  border-radius: 0.75rem !important;\n}\n.border {\n  border-width: 1px !important;\n}\n.border-4 {\n  border-width: 4px !important;\n}\n.border-t-4 {\n  border-top-width: 4px !important;\n}\n.border-blue-400 {\n  --tw-border-opacity: 1 !important;\n  border-color: rgb(96 165 250 / var(--tw-border-opacity, 1)) !important;\n}\n.border-gray-200 {\n  --tw-border-opacity: 1 !important;\n  border-color: rgb(229 231 235 / var(--tw-border-opacity, 1)) !important;\n}\n.border-green-400 {\n  --tw-border-opacity: 1 !important;\n  border-color: rgb(74 222 128 / var(--tw-border-opacity, 1)) !important;\n}\n.border-pink-400 {\n  --tw-border-opacity: 1 !important;\n  border-color: rgb(244 114 182 / var(--tw-border-opacity, 1)) !important;\n}\n.border-purple-400 {\n  --tw-border-opacity: 1 !important;\n  border-color: rgb(192 132 252 / var(--tw-border-opacity, 1)) !important;\n}\n.border-red-400 {\n  --tw-border-opacity: 1 !important;\n  border-color: rgb(248 113 113 / var(--tw-border-opacity, 1)) !important;\n}\n.border-yellow-400 {\n  --tw-border-opacity: 1 !important;\n  border-color: rgb(250 204 21 / var(--tw-border-opacity, 1)) !important;\n}\n.bg-blue-500 {\n  --tw-bg-opacity: 1 !important;\n  background-color: rgb(59 130 246 / var(--tw-bg-opacity, 1)) !important;\n}\n.bg-gray-100 {\n  --tw-bg-opacity: 1 !important;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1)) !important;\n}\n.bg-gray-50 {\n  --tw-bg-opacity: 1 !important;\n  background-color: rgb(249 250 251 / var(--tw-bg-opacity, 1)) !important;\n}\n.bg-green-50 {\n  --tw-bg-opacity: 1 !important;\n  background-color: rgb(240 253 244 / var(--tw-bg-opacity, 1)) !important;\n}\n.bg-white {\n  --tw-bg-opacity: 1 !important;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1)) !important;\n}\n.object-cover {\n  -o-object-fit: cover !important;\n     object-fit: cover !important;\n}\n.p-1 {\n  padding: 0.25rem !important;\n}\n.p-2 {\n  padding: 0.5rem !important;\n}\n.p-3 {\n  padding: 0.75rem !important;\n}\n.p-4 {\n  padding: 1rem !important;\n}\n.p-5 {\n  padding: 1.25rem !important;\n}\n.p-6 {\n  padding: 1.5rem !important;\n}\n.px-2 {\n  padding-left: 0.5rem !important;\n  padding-right: 0.5rem !important;\n}\n.px-4 {\n  padding-left: 1rem !important;\n  padding-right: 1rem !important;\n}\n.py-10 {\n  padding-top: 2.5rem !important;\n  padding-bottom: 2.5rem !important;\n}\n.py-12 {\n  padding-top: 3rem !important;\n  padding-bottom: 3rem !important;\n}\n.py-2 {\n  padding-top: 0.5rem !important;\n  padding-bottom: 0.5rem !important;\n}\n.py-3 {\n  padding-top: 0.75rem !important;\n  padding-bottom: 0.75rem !important;\n}\n.pt-2 {\n  padding-top: 0.5rem !important;\n}\n.text-center {\n  text-align: center !important;\n}\n.text-2xl {\n  font-size: 1.5rem !important;\n  line-height: 2rem !important;\n}\n.text-3xl {\n  font-size: 1.875rem !important;\n  line-height: 2.25rem !important;\n}\n.text-base {\n  font-size: 1rem !important;\n  line-height: 1.5rem !important;\n}\n.text-lg {\n  font-size: 1.125rem !important;\n  line-height: 1.75rem !important;\n}\n.text-sm {\n  font-size: 0.875rem !important;\n  line-height: 1.25rem !important;\n}\n.text-xl {\n  font-size: 1.25rem !important;\n  line-height: 1.75rem !important;\n}\n.font-bold {\n  font-weight: 700 !important;\n}\n.font-medium {\n  font-weight: 500 !important;\n}\n.font-semibold {\n  font-weight: 600 !important;\n}\n.italic {\n  font-style: italic !important;\n}\n.text-blue-600 {\n  --tw-text-opacity: 1 !important;\n  color: rgb(37 99 235 / var(--tw-text-opacity, 1)) !important;\n}\n.text-gray-600 {\n  --tw-text-opacity: 1 !important;\n  color: rgb(75 85 99 / var(--tw-text-opacity, 1)) !important;\n}\n.text-gray-700 {\n  --tw-text-opacity: 1 !important;\n  color: rgb(55 65 81 / var(--tw-text-opacity, 1)) !important;\n}\n.text-gray-800 {\n  --tw-text-opacity: 1 !important;\n  color: rgb(31 41 55 / var(--tw-text-opacity, 1)) !important;\n}\n.text-gray-900 {\n  --tw-text-opacity: 1 !important;\n  color: rgb(17 24 39 / var(--tw-text-opacity, 1)) !important;\n}\n.text-green-600 {\n  --tw-text-opacity: 1 !important;\n  color: rgb(22 163 74 / var(--tw-text-opacity, 1)) !important;\n}\n.text-green-700 {\n  --tw-text-opacity: 1 !important;\n  color: rgb(21 128 61 / var(--tw-text-opacity, 1)) !important;\n}\n.text-pink-600 {\n  --tw-text-opacity: 1 !important;\n  color: rgb(219 39 119 / var(--tw-text-opacity, 1)) !important;\n}\n.text-purple-600 {\n  --tw-text-opacity: 1 !important;\n  color: rgb(147 51 234 / var(--tw-text-opacity, 1)) !important;\n}\n.text-red-500 {\n  --tw-text-opacity: 1 !important;\n  color: rgb(239 68 68 / var(--tw-text-opacity, 1)) !important;\n}\n.text-red-600 {\n  --tw-text-opacity: 1 !important;\n  color: rgb(220 38 38 / var(--tw-text-opacity, 1)) !important;\n}\n.text-white {\n  --tw-text-opacity: 1 !important;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1)) !important;\n}\n.text-yellow-400 {\n  --tw-text-opacity: 1 !important;\n  color: rgb(250 204 21 / var(--tw-text-opacity, 1)) !important;\n}\n.text-yellow-600 {\n  --tw-text-opacity: 1 !important;\n  color: rgb(202 138 4 / var(--tw-text-opacity, 1)) !important;\n}\n.opacity-0 {\n  opacity: 0 !important;\n}\n.shadow {\n  --tw-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1) !important;\n  --tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow) !important;\n}\n.shadow-2xl {\n  --tw-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25) !important;\n  --tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color) !important;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow) !important;\n}\n.shadow-lg {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1) !important;\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color) !important;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow) !important;\n}\n.shadow-md {\n  --tw-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1) !important;\n  --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color) !important;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow) !important;\n}\n.shadow-sm {\n  --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05) !important;\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color) !important;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow) !important;\n}\n.ring {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color) !important;\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color) !important;\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000) !important;\n}\n.ring-4 {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color) !important;\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color) !important;\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000) !important;\n}\n.ring-blue-400 {\n  --tw-ring-opacity: 1 !important;\n  --tw-ring-color: rgb(96 165 250 / var(--tw-ring-opacity, 1)) !important;\n}\n.ring-green-400 {\n  --tw-ring-opacity: 1 !important;\n  --tw-ring-color: rgb(74 222 128 / var(--tw-ring-opacity, 1)) !important;\n}\n.ring-pink-400 {\n  --tw-ring-opacity: 1 !important;\n  --tw-ring-color: rgb(244 114 182 / var(--tw-ring-opacity, 1)) !important;\n}\n.ring-purple-400 {\n  --tw-ring-opacity: 1 !important;\n  --tw-ring-color: rgb(192 132 252 / var(--tw-ring-opacity, 1)) !important;\n}\n.ring-red-400 {\n  --tw-ring-opacity: 1 !important;\n  --tw-ring-color: rgb(248 113 113 / var(--tw-ring-opacity, 1)) !important;\n}\n.ring-yellow-400 {\n  --tw-ring-opacity: 1 !important;\n  --tw-ring-color: rgb(250 204 21 / var(--tw-ring-opacity, 1)) !important;\n}\n.ring-offset-2 {\n  --tw-ring-offset-width: 2px !important;\n}\n.filter {\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow) !important;\n}\n.transition {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter !important;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter !important;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter !important;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important;\n  transition-duration: 150ms !important;\n}\n.transition-all {\n  transition-property: all !important;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important;\n  transition-duration: 150ms !important;\n}\n.transition-shadow {\n  transition-property: box-shadow !important;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important;\n  transition-duration: 150ms !important;\n}\n.duration-300 {\n  transition-duration: 300ms !important;\n}\n.duration-500 {\n  transition-duration: 500ms !important;\n}\n.ease-in-out {\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1) !important;\n}\n.hover\\:bg-blue-50:hover {\n  --tw-bg-opacity: 1 !important;\n  background-color: rgb(239 246 255 / var(--tw-bg-opacity, 1)) !important;\n}\n.hover\\:bg-gray-100:hover {\n  --tw-bg-opacity: 1 !important;\n  background-color: rgb(243 244 246 / var(--tw-bg-opacity, 1)) !important;\n}\n.hover\\:underline:hover {\n  text-decoration-line: underline !important;\n}\n.hover\\:opacity-90:hover {\n  opacity: 0.9 !important;\n}\n.hover\\:shadow-lg:hover {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1) !important;\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color) !important;\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow) !important;\n}\n.group:hover .group-hover\\:max-h-40 {\n  max-height: 10rem !important;\n}\n.group:hover .group-hover\\:opacity-100 {\n  opacity: 1 !important;\n}\n@media (min-width: 640px) {\n\n  .sm\\:w-fit {\n    width: -moz-fit-content !important;\n    width: fit-content !important;\n  }\n\n  .sm\\:grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;\n  }\n}\n@media (min-width: 768px) {\n\n  .md\\:ml-10 {\n    margin-left: 2.5rem !important;\n  }\n\n  .md\\:hidden {\n    display: none !important;\n  }\n\n  .md\\:w-3\\/4 {\n    width: 75% !important;\n  }\n\n  .md\\:w-80 {\n    width: 20rem !important;\n  }\n\n  .md\\:grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;\n  }\n\n  .md\\:grid-cols-3 {\n    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;\n  }\n\n  .md\\:justify-start {\n    justify-content: flex-start !important;\n  }\n\n  .md\\:px-5 {\n    padding-left: 1.25rem !important;\n    padding-right: 1.25rem !important;\n  }\n\n  .md\\:text-4xl {\n    font-size: 2.25rem !important;\n    line-height: 2.5rem !important;\n  }\n}\n@media (min-width: 1024px) {\n\n  .lg\\:grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;\n  }\n\n  .lg\\:grid-cols-4 {\n    grid-template-columns: repeat(4, minmax(0, 1fr)) !important;\n  }\n}",""]);const s=a},961:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(45)),o=r(n(206)),a=n(530);class s{constructor(t,{headers:e={},schema:n,fetch:r}={}){this.url=t,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),e),this.schemaName=n,this.fetch=r}from(t){const e=new URL(`${this.url}/${t}`);return new i.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new s(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:n=!1,get:r=!1,count:i}={}){let a;const s=new URL(`${this.url}/rpc/${t}`);let c;n||r?(a=n?"HEAD":"GET",Object.entries(e).filter((([t,e])=>void 0!==e)).map((([t,e])=>[t,Array.isArray(e)?`{${e.join(",")}}`:`${e}`])).forEach((([t,e])=>{s.searchParams.append(t,e)}))):(a="POST",c=e);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new o.default({method:a,url:s,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}}e.default=s}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nc=void 0,(()=>{"use strict";var t,e=n(72),r=n.n(e),i=n(825),o=n.n(i),a=n(659),s=n.n(a),c=n(56),l=n.n(c),u=n(540),h=n.n(u),d=n(113),p=n.n(d),f=n(916),m={};m.styleTagTransform=p(),m.setAttributes=l(),m.insert=s().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=h(),r()(f.A,m),f.A&&f.A.locals&&f.A.locals,n(469),n(664);class g extends Error{constructor(t,e="FunctionsError",n){super(t),this.name=e,this.context=n}}class y extends g{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class v extends g{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class w extends g{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}!function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"}(t||(t={}));class b{constructor(e,{headers:r={},customFetch:i,region:o=t.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=(t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>Promise.resolve().then(n.bind(n,907)).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)})(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var n,r,i,o,a;return r=this,i=void 0,a=function*(){try{const{headers:r,method:i,body:o}=e;let a,s={},{region:c}=e;c||(c=this.region),c&&"any"!==c&&(s["x-region"]=c),o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",a=o):"string"==typeof o?(s["Content-Type"]="text/plain",a=o):"undefined"!=typeof FormData&&o instanceof FormData?a=o:(s["Content-Type"]="application/json",a=JSON.stringify(o)));const l=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),r),body:a}).catch((t=>{throw new y(t)})),u=l.headers.get("x-relay-error");if(u&&"true"===u)throw new v(l);if(!l.ok)throw new w(l);let h,d=(null!==(n=l.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return h="application/json"===d?yield l.json():"application/octet-stream"===d?yield l.blob():"text/event-stream"===d?l:"multipart/form-data"===d?yield l.formData():yield l.text(),{data:h,error:null}}catch(t){return{data:null,error:t}}},new((o=void 0)||(o=Promise))((function(t,e){function n(t){try{c(a.next(t))}catch(t){e(t)}}function s(t){try{c(a.throw(t))}catch(t){e(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof o?r:new o((function(t){t(r)}))).then(n,s)}c((a=a.apply(r,i||[])).next())}))}}var _=n(279);const{PostgrestClient:k,PostgrestQueryBuilder:x,PostgrestFilterBuilder:E,PostgrestTransformBuilder:S,PostgrestBuilder:j,PostgrestError:T}=_;let O;O="undefined"==typeof window?n(591):window.WebSocket;const P=O,C={"X-Client-Info":"realtime-js/2.11.10"};var A,R,I,L,$,N,U;!function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"}(A||(A={})),(U=R||(R={})).closed="closed",U.errored="errored",U.joined="joined",U.joining="joining",U.leaving="leaving",function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"}(I||(I={})),function(t){t.websocket="websocket"}(L||(L={})),function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"}($||($={}));class M{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e("string"==typeof t?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,e,n)}_decodeBroadcast(t,e,n){const r=e.getUint8(1),i=e.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+r));o+=r;const s=n.decode(t.slice(o,o+i));return o+=i,{ref:null,topic:a,event:s,payload:JSON.parse(n.decode(t.slice(o,t.byteLength)))}}}class D{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"}(N||(N={}));const F=(t,e,n={})=>{var r;const i=null!==(r=n.skipTypes)&&void 0!==r?r:[];return Object.keys(e).reduce(((n,r)=>(n[r]=z(r,t,e,i),n)),{})},z=(t,e,n,r)=>{const i=e.find((e=>e.name===t)),o=null==i?void 0:i.type,a=n[t];return o&&!r.includes(o)?q(o,a):G(a)},q=(t,e)=>{if("_"===t.charAt(0)){const n=t.slice(1,t.length);return K(e,n)}switch(t){case N.bool:return B(e);case N.float4:case N.float8:case N.int2:case N.int4:case N.int8:case N.numeric:case N.oid:return H(e);case N.json:case N.jsonb:return J(e);case N.timestamp:return W(e);case N.abstime:case N.date:case N.daterange:case N.int4range:case N.int8range:case N.money:case N.reltime:case N.text:case N.time:case N.timestamptz:case N.timetz:case N.tsrange:case N.tstzrange:default:return G(e)}},G=t=>t,B=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},H=t=>{if("string"==typeof t){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},J=t=>{if("string"==typeof t)try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},K=(t,e)=>{if("string"!=typeof t)return t;const n=t.length-1,r=t[n];if("{"===t[0]&&"}"===r){let r;const i=t.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(t){r=i?i.split(","):[]}return r.map((t=>q(e,t)))}return t},W=t=>"string"==typeof t?t.replace(" ","T"):t,V=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Y{constructor(t,e,n={},r=1e4){this.channel=t,this.event=e,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var n;return this._hasReceived(t)&&e(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},(t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout))}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter((e=>e.status===t)).forEach((t=>t.callback(e)))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var X,Z,Q,tt;!function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"}(X||(X={}));class et{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null==e?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(t=>{const{onJoin:e,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=et.syncState(this.state,t,e,n),this.pendingDiffs.forEach((t=>{this.state=et.syncDiff(this.state,t,e,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(t=>{const{onJoin:e,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(t):(this.state=et.syncDiff(this.state,t,e,n),r())})),this.onJoin(((t,e,n)=>{this.channel._trigger("presence",{event:"join",key:t,currentPresences:e,newPresences:n})})),this.onLeave(((t,e,n)=>{this.channel._trigger("presence",{event:"leave",key:t,currentPresences:e,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(t,e,n,r){const i=this.cloneDeep(t),o=this.transformState(e),a={},s={};return this.map(i,((t,e)=>{o[t]||(s[t]=e)})),this.map(o,((t,e)=>{const n=i[t];if(n){const r=e.map((t=>t.presence_ref)),i=n.map((t=>t.presence_ref)),o=e.filter((t=>i.indexOf(t.presence_ref)<0)),c=n.filter((t=>r.indexOf(t.presence_ref)<0));o.length>0&&(a[t]=o),c.length>0&&(s[t]=c)}else a[t]=e})),this.syncDiff(i,{joins:a,leaves:s},n,r)}static syncDiff(t,e,n,r){const{joins:i,leaves:o}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,((e,r)=>{var i;const o=null!==(i=t[e])&&void 0!==i?i:[];if(t[e]=this.cloneDeep(r),o.length>0){const n=t[e].map((t=>t.presence_ref)),r=o.filter((t=>n.indexOf(t.presence_ref)<0));t[e].unshift(...r)}n(e,o,r)})),this.map(o,((e,n)=>{let i=t[e];if(!i)return;const o=n.map((t=>t.presence_ref));i=i.filter((t=>o.indexOf(t.presence_ref)<0)),t[e]=i,r(e,i,n),0===i.length&&delete t[e]})),t}static map(t,e){return Object.getOwnPropertyNames(t).map((n=>e(n,t[n])))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce(((e,n)=>{const r=t[n];return e[n]="metas"in r?r.metas.map((t=>(t.presence_ref=t.phx_ref,delete t.phx_ref,delete t.phx_ref_prev,t))):r,e}),{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"}(Z||(Z={})),function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"}(Q||(Q={})),function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"}(tt||(tt={}));class nt{constructor(t,e={config:{}},n){this.topic=t,this.params=e,this.socket=n,this.bindings={},this.state=R.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Y(this,I.join,this.params,this.timeout),this.rejoinTimer=new D((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=R.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((t=>t.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=R.closed,this.socket._remove(this)})),this._onError((t=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,t),this.state=R.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=R.errored,this.rejoinTimer.scheduleTimeout())})),this._on(I.reply,{},((t,e)=>{this._trigger(this._replyEventName(e),t)})),this.presence=new et(this),this.broadcastEndpointURL=V(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError((e=>null==t?void 0:t(tt.CHANNEL_ERROR,e))),this._onClose((()=>null==t?void 0:t(tt.CLOSED)));const s={},c={broadcast:i,presence:o,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((t=>t.filter)))&&void 0!==r?r:[],private:a};this.socket.accessTokenValue&&(s.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},s)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",(async({postgres_changes:e})=>{var n;if(this.socket.setAuth(),void 0!==e){const r=this.bindings.postgres_changes,i=null!==(n=null==r?void 0:r.length)&&void 0!==n?n:0,o=[];for(let n=0;n<i;n++){const i=r[n],{filter:{event:a,schema:s,table:c,filter:l}}=i,u=e&&e[n];if(!u||u.event!==a||u.schema!==s||u.table!==c||u.filter!==l)return this.unsubscribe(),this.state=R.errored,void(null==t||t(tt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));o.push(Object.assign(Object.assign({},i),{id:u.id}))}return this.bindings.postgres_changes=o,void(t&&t(tt.SUBSCRIBED))}null==t||t(tt.SUBSCRIBED)})).receive("error",(e=>{this.state=R.errored,null==t||t(tt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(e).join(", ")||"error")))})).receive("timeout",(()=>{null==t||t(tt.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,n){return this._on(t,e,n)}async send(t,e={}){var n,r;if(this._canPush()||"broadcast"!==t.type)return new Promise((n=>{var r,i,o;const a=this._push(t.type,t,e.timeout||this.timeout);"broadcast"!==t.type||(null===(o=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===o?void 0:o.ack)||n("ok"),a.receive("ok",(()=>n("ok"))),a.receive("error",(()=>n("error"))),a.receive("timeout",(()=>n("timed out")))}));{const{event:i,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const t=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(n=e.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=t.body)||void 0===r?void 0:r.cancel()),t.ok?"ok":"error"}catch(t){return"AbortError"===t.name?"timed out":"error"}}}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=R.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(I.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise((n=>{const r=new Y(this,I.leave,{},t);r.receive("ok",(()=>{e(),n("ok")})).receive("timeout",(()=>{e(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}teardown(){this.pushBuffer.forEach((t=>t.destroy())),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,e,n){const r=new AbortController,i=setTimeout((()=>r.abort()),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:r.signal}));return clearTimeout(i),o}_push(t,e,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Y(this,t,e,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,e,n){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,n){var r,i;const o=t.toLocaleLowerCase(),{close:a,error:s,leave:c,join:l}=I;if(n&&[a,s,c,l].indexOf(o)>=0&&n!==this._joinRef())return;let u=this._onMessage(o,e,n);if(e&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((t=>{var e,n,r;return"*"===(null===(e=t.filter)||void 0===e?void 0:e.event)||(null===(r=null===(n=t.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===o})).map((t=>t.callback(u,n))):null===(i=this.bindings[o])||void 0===i||i.filter((t=>{var n,r,i,a,s,c;if(["broadcast","presence","postgres_changes"].includes(o)){if("id"in t){const o=t.id,a=null===(n=t.filter)||void 0===n?void 0:n.event;return o&&(null===(r=e.ids)||void 0===r?void 0:r.includes(o))&&("*"===a||(null==a?void 0:a.toLocaleLowerCase())===(null===(i=e.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{const n=null===(s=null===(a=null==t?void 0:t.filter)||void 0===a?void 0:a.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===n||n===(null===(c=null==e?void 0:e.event)||void 0===c?void 0:c.toLocaleLowerCase())}}return t.type.toLocaleLowerCase()===o})).map((t=>{if("object"==typeof u&&"ids"in u){const t=u.data,{schema:e,table:n,commit_timestamp:r,type:i,errors:o}=t,a={schema:e,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:o};u=Object.assign(Object.assign({},a),this._getPayloadRecords(t))}t.callback(u,n)}))}_isClosed(){return this.state===R.closed}_isJoined(){return this.state===R.joined}_isJoining(){return this.state===R.joining}_isLeaving(){return this.state===R.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,n){const r=t.toLocaleLowerCase(),i={type:r,filter:e,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,e){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((t=>{var r;return!((null===(r=t.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&nt.isEqual(t.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(I.close,{},t)}_onError(t){this._on(I.error,{},(e=>t(e)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=R.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return"INSERT"!==t.type&&"UPDATE"!==t.type||(e.new=F(t.columns,t.record)),"UPDATE"!==t.type&&"DELETE"!==t.type||(e.old=F(t.columns,t.old_record)),e}}const rt=()=>{};class it{constructor(t,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=C,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rt,this.ref=0,this.logger=rt,this.conn=null,this.sendBuffer=[],this.serializer=new M,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>Promise.resolve().then(n.bind(n,907)).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)},this.endPoint=`${t}/${L.websocket}`,this.httpEndpoint=V(t),(null==e?void 0:e.transport)?this.transport=e.transport:this.transport=null,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),(null==e?void 0:e.timeout)&&(this.timeout=e.timeout),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null==e?void 0:e.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);const i=null===(r=null==e?void 0:e.params)||void 0===r?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=(null==e?void 0:e.reconnectAfterMs)?e.reconnectAfterMs:t=>[1e3,2e3,5e3,1e4][t-1]||1e4,this.encode=(null==e?void 0:e.encode)?e.encode:(t,e)=>e(JSON.stringify(t)),this.decode=(null==e?void 0:e.decode)?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new D((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==e?void 0:e.fetch),null==e?void 0:e.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==e?void 0:e.worker)||!1,this.workerUrl=null==e?void 0:e.workerUrl}this.accessToken=(null==e?void 0:e.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=P),this.transport){const t="undefined"!=typeof window&&this.transport===window.WebSocket;return this.conn=t?new this.transport(this.endpointURL()):new this.transport(this.endpointURL(),void 0,{headers:this.headers}),void this.setupConnection()}this.conn=new ot(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,null!=e?e:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach((t=>t.teardown())))}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels=this.channels.filter((e=>e._joinRef!==t._joinRef)),0===this.channels.length&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map((t=>t.unsubscribe())));return this.channels=[],this.disconnect(),t}log(t,e,n){this.logger(t,e,n)}connectionState(){switch(this.conn&&this.conn.readyState){case A.connecting:return $.Connecting;case A.open:return $.Open;case A.closing:return $.Closing;default:return $.Closed}}isConnected(){return this.connectionState()===$.Open}channel(t,e={config:{}}){const n=`realtime:${t}`,r=this.getChannels().find((t=>t.topic===n));if(r)return r;{const n=new nt(`realtime:${t}`,e,this);return this.channels.push(n),n}}push(t){const{topic:e,event:n,payload:r,ref:i}=t,o=()=>{this.encode(t,(t=>{var e;null===(e=this.conn)||void 0===e||e.send(t)}))};this.log("push",`${e} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let e=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e,version:this.headers&&this.headers["X-Client-Info"]}),t.joinedOnce&&t._isJoined()&&t._push(I.access_token,{access_token:e})})))}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),void(null===(t=this.conn)||void 0===t||t.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}else this.heartbeatCallback("disconnected")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((t=>t())),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find((e=>e.topic===t&&(e._isJoined()||e._isJoining())));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter((e=>e.topic!==t.topic))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,(t=>{let{topic:e,event:n,payload:r,ref:i}=t;"phoenix"===e&&"phx_reply"===n&&this.heartbeatCallback("ok"==t.payload.status?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${e} ${n} ${i&&"("+i+")"||""}`,r),Array.from(this.channels).filter((t=>t._isMember(e))).forEach((t=>t._trigger(n,r,i))),this.stateChangeCallbacks.message.forEach((e=>e(t)))}))}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{"keepAlive"===t.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((t=>t()))}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((e=>e(t)))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((e=>e(t)))}_triggerChanError(){this.channels.forEach((t=>t._trigger(I.error)))}_appendParams(t,e){if(0===Object.keys(e).length)return t;const n=t.match(/\?/)?"&":"?";return`${t}${n}${new URLSearchParams(e)}`}_workerObjectUrl(t){let e;if(t)e=t;else{const t=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});e=URL.createObjectURL(t)}return e}}class ot{constructor(t,e,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=A.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class at extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function st(t){return"object"==typeof t&&null!==t&&"__isStorageError"in t}class ct extends at{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class lt extends at{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}const ut=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>Promise.resolve().then(n.bind(n,907)).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)},ht=t=>{if(Array.isArray(t))return t.map((t=>ht(t)));if("function"==typeof t||t!==Object(t))return t;const e={};return Object.entries(t).forEach((([t,n])=>{const r=t.replace(/([-_][a-z])/gi,(t=>t.toUpperCase().replace(/[-_]/g,"")));e[r]=ht(n)})),e};var dt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};const pt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ft=(t,e,r)=>dt(void 0,void 0,void 0,(function*(){const i=yield(o=void 0,a=void 0,s=void 0,c=function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(n.bind(n,907))).Response:Response},new(s||(s=Promise))((function(t,e){function n(t){try{i(c.next(t))}catch(t){e(t)}}function r(t){try{i(c.throw(t))}catch(t){e(t)}}function i(e){var i;e.done?t(e.value):(i=e.value,i instanceof s?i:new s((function(t){t(i)}))).then(n,r)}i((c=c.apply(o,a||[])).next())})));var o,a,s,c;t instanceof i&&!(null==r?void 0:r.noResolveJson)?t.json().then((n=>{e(new ct(pt(n),t.status||500))})).catch((t=>{e(new lt(pt(t),t))})):e(new lt(pt(t),t))}));function mt(t,e,n,r,i,o){return dt(this,void 0,void 0,(function*(){return new Promise(((a,s)=>{t(n,((t,e,n,r)=>{const i={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?i:(i.headers=Object.assign({"Content-Type":"application/json"},null==e?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))})(e,r,i,o)).then((t=>{if(!t.ok)throw t;return(null==r?void 0:r.noResolveJson)?t:t.json()})).then((t=>a(t))).catch((t=>ft(t,s,r)))}))}))}function gt(t,e,n,r){return dt(this,void 0,void 0,(function*(){return mt(t,"GET",e,n,r)}))}function yt(t,e,n,r,i){return dt(this,void 0,void 0,(function*(){return mt(t,"POST",e,r,i,n)}))}function vt(t,e,n,r,i){return dt(this,void 0,void 0,(function*(){return mt(t,"DELETE",e,r,i,n)}))}var wt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};const bt={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_t={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kt{constructor(t,e={},n,r){this.url=t,this.headers=e,this.bucketId=n,this.fetch=ut(r)}uploadOrUpdate(t,e,n,r){return wt(this,void 0,void 0,(function*(){try{let i;const o=Object.assign(Object.assign({},_t),r);let a=Object.assign(Object.assign({},this.headers),"POST"===t&&{"x-upsert":String(o.upsert)});const s=o.metadata;"undefined"!=typeof Blob&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),s&&i.append("metadata",this.encodeMetadata(s)),i.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),s&&i.append("metadata",this.encodeMetadata(s))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,s&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),(null==r?void 0:r.headers)&&(a=Object.assign(Object.assign({},a),r.headers));const c=this._removeEmptyFolders(e),l=this._getFinalPath(c),u=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:t,body:i,headers:a},(null==o?void 0:o.duplex)?{duplex:o.duplex}:{})),h=yield u.json();return u.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}upload(t,e,n){return wt(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",t,e,n)}))}uploadToSignedUrl(t,e,n,r){return wt(this,void 0,void 0,(function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let t;const e=Object.assign({upsert:_t.upsert},r),o=Object.assign(Object.assign({},this.headers),{"x-upsert":String(e.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(t=new FormData,t.append("cacheControl",e.cacheControl),t.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(t=n,t.append("cacheControl",e.cacheControl)):(t=n,o["cache-control"]=`max-age=${e.cacheControl}`,o["content-type"]=e.contentType);const s=yield this.fetch(a.toString(),{method:"PUT",body:t,headers:o}),c=yield s.json();return s.ok?{data:{path:i,fullPath:c.Key},error:null}:{data:null,error:c}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}createSignedUploadUrl(t,e){return wt(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(t);const r=Object.assign({},this.headers);(null==e?void 0:e.upsert)&&(r["x-upsert"]="true");const i=yield yt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new at("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}update(t,e,n){return wt(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",t,e,n)}))}move(t,e,n){return wt(this,void 0,void 0,(function*(){try{return{data:yield yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}copy(t,e,n){return wt(this,void 0,void 0,(function*(){try{return{data:{path:(yield yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:null==n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}createSignedUrl(t,e,n){return wt(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(t),i=yield yt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:e},(null==n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const o=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}createSignedUrls(t,e,n){return wt(this,void 0,void 0,(function*(){try{const r=yield yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),i=(null==n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map((t=>Object.assign(Object.assign({},t),{signedUrl:t.signedURL?encodeURI(`${this.url}${t.signedURL}${i}`):null}))),error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}download(t,e){return wt(this,void 0,void 0,(function*(){const n=void 0!==(null==e?void 0:e.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null==e?void 0:e.transform)||{}),i=r?`?${r}`:"";try{const e=this._getFinalPath(t),r=yield gt(this.fetch,`${this.url}/${n}/${e}${i}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}info(t){return wt(this,void 0,void 0,(function*(){const e=this._getFinalPath(t);try{const t=yield gt(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:ht(t),error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}exists(t){return wt(this,void 0,void 0,(function*(){const e=this._getFinalPath(t);try{return yield function(t,e,n){return dt(this,void 0,void 0,(function*(){return mt(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),undefined)}))}(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(t){if(st(t)&&t instanceof lt){const e=t.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:t}}throw t}}))}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=(null==e?void 0:e.download)?`download=${!0===e.download?"":e.download}`:"";""!==i&&r.push(i);const o=void 0!==(null==e?void 0:e.transform)?"render/image":"object",a=this.transformOptsToQueryString((null==e?void 0:e.transform)||{});""!==a&&r.push(a);let s=r.join("&");return""!==s&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}remove(t){return wt(this,void 0,void 0,(function*(){try{return{data:yield vt(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}list(t,e,n){return wt(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},bt),e),{prefix:t||""});return{data:yield yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return"undefined"!=typeof Buffer?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const xt={"X-Client-Info":"storage-js/2.7.1"};var Et=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};class St{constructor(t,e={},n){this.url=t,this.headers=Object.assign(Object.assign({},xt),e),this.fetch=ut(n)}listBuckets(){return Et(this,void 0,void 0,(function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}getBucket(t){return Et(this,void 0,void 0,(function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}createBucket(t,e={public:!1}){return Et(this,void 0,void 0,(function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}updateBucket(t,e){return Et(this,void 0,void 0,(function*(){try{const n=yield function(t,e,n,r){return dt(this,void 0,void 0,(function*(){return mt(t,"PUT",e,r,undefined,n)}))}(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}emptyBucket(t){return Et(this,void 0,void 0,(function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}deleteBucket(t){return Et(this,void 0,void 0,(function*(){try{return{data:yield vt(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(t){if(st(t))return{data:null,error:t};throw t}}))}}class jt extends St{constructor(t,e={},n){super(t,e,n)}from(t){return new kt(this.url,this.headers,t,this.fetch)}}let Tt="";Tt="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Ot={headers:{"X-Client-Info":`supabase-js-${Tt}/2.49.10`}},Pt={schema:"public"},Ct={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},At={};var Rt=n(907);const It=t=>{let e;return e=t||("undefined"==typeof fetch?Rt.default:fetch),(...t)=>e(...t)},Lt=(t,e,n)=>{const r=It(n),i="undefined"==typeof Headers?Rt.Headers:Headers;return(n,o)=>{return a=void 0,s=void 0,l=function*(){var a;const s=null!==(a=yield e())&&void 0!==a?a:t;let c=new i(null==o?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${s}`),r(n,Object.assign(Object.assign({},o),{headers:c}))},new((c=void 0)||(c=Promise))((function(t,e){function n(t){try{i(l.next(t))}catch(t){e(t)}}function r(t){try{i(l.throw(t))}catch(t){e(t)}}function i(e){var i;e.done?t(e.value):(i=e.value,i instanceof c?i:new c((function(t){t(i)}))).then(n,r)}i((l=l.apply(a,s||[])).next())}));var a,s,c,l}};const $t="2.69.1",Nt=3e4,Ut={"X-Client-Info":`gotrue-js/${$t}`},Mt="X-Supabase-Api-Version",Dt=Date.parse("2024-01-01T00:00:00.0Z"),Ft="2024-01-01",zt=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class qt extends Error{constructor(t,e,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=n}}function Gt(t){return"object"==typeof t&&null!==t&&"__isAuthError"in t}class Bt extends qt{constructor(t,e,n){super(t,e,n),this.name="AuthApiError",this.status=e,this.code=n}}class Ht extends qt{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class Jt extends qt{constructor(t,e,n,r){super(t,n,r),this.name=e,this.status=n}}class Kt extends Jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Wt extends Jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vt extends Jt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Yt extends Jt{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xt extends Jt{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zt extends Jt{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function Qt(t){return Gt(t)&&"AuthRetryableFetchError"===t.name}class te extends Jt{constructor(t,e,n){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=n}}class ee extends Jt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),re=" \t\n\r=".split(""),ie=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<re.length;e+=1)t[re[e].charCodeAt(0)]=-2;for(let e=0;e<ne.length;e+=1)t[ne[e].charCodeAt(0)]=e;return t})();function oe(t,e,n){const r=ie[t];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8}function ae(t){const e=[],n=t=>{e.push(String.fromCodePoint(t))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=t=>{!function(t,e,n){if(0===e.utf8seq){if(t<=127)return void n(t);for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(2===e.utf8seq)e.codepoint=31&t;else if(3===e.utf8seq)e.codepoint=15&t;else{if(4!==e.utf8seq)throw new Error("Invalid UTF-8 sequence");e.codepoint=7&t}e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|63&t,e.utf8seq-=1,0===e.utf8seq&&n(e.codepoint)}}(t,r,n)};for(let e=0;e<t.length;e+=1)oe(t.charCodeAt(e),i,o);return e.join("")}function se(t,e){if(!(t<=127)){if(t<=2047)return e(192|t>>6),void e(128|63&t);if(t<=65535)return e(224|t>>12),e(128|t>>6&63),void e(128|63&t);if(t<=1114111)return e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),void e(128|63&t);throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}e(t)}function ce(t){const e=[],n={queue:0,queuedBits:0},r=t=>{e.push(t)};for(let e=0;e<t.length;e+=1)oe(t.charCodeAt(e),n,r);return new Uint8Array(e)}const le=()=>"undefined"!=typeof window&&"undefined"!=typeof document,ue={tested:!1,writable:!1},he=()=>{if(!le())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(ue.tested)return ue.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ue.tested=!0,ue.writable=!0}catch(t){ue.tested=!0,ue.writable=!1}return ue.writable},de=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>Promise.resolve().then(n.bind(n,907)).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)},pe=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},fe=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch(t){return n}},me=async(t,e)=>{await t.removeItem(e)};class ge{constructor(){this.promise=new ge.promiseConstructor(((t,e)=>{this.resolve=t,this.reject=e}))}}function ye(t){const e=t.split(".");if(3!==e.length)throw new ee("Invalid JWT structure");for(let t=0;t<e.length;t++)if(!zt.test(e[t]))throw new ee("JWT not in base64url format");return{header:JSON.parse(ae(e[0])),payload:JSON.parse(ae(e[1])),signature:ce(e[2]),raw:{header:e[0],payload:e[1]}}}function ve(t){return("0"+t.toString(16)).substr(-2)}async function we(t,e,n=!1){const r=function(){const t=new Uint32Array(56);if("undefined"==typeof crypto){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",e=t.length;let n="";for(let r=0;r<56;r++)n+=t.charAt(Math.floor(Math.random()*e));return n}return crypto.getRandomValues(t),Array.from(t,ve).join("")}();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await pe(t,`${e}-code-verifier`,i);const o=await async function(t){if("undefined"==typeof crypto||void 0===crypto.subtle||"undefined"==typeof TextEncoder)return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const e=await async function(t){const e=(new TextEncoder).encode(t),n=await crypto.subtle.digest("SHA-256",e),r=new Uint8Array(n);return Array.from(r).map((t=>String.fromCharCode(t))).join("")}(t);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(r);return[o,r===o?"plain":"s256"]}ge.promiseConstructor=Promise;const be=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const _e=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ke=[502,503,504];async function xe(t){var e,n;if(!("object"==typeof(n=t)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"==typeof n.json))throw new Zt(_e(t),0);if(ke.includes(t.status))throw new Zt(_e(t),t.status);let r,i;try{r=await t.json()}catch(t){throw new Ht(_e(t),t)}const o=function(t){const e=t.headers.get(Mt);if(!e)return null;if(!e.match(be))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(t){return null}}(t);if(o&&o.getTime()>=Dt&&"object"==typeof r&&r&&"string"==typeof r.code?i=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(i=r.error_code),i){if("weak_password"===i)throw new te(_e(r),t.status,(null===(e=r.weak_password)||void 0===e?void 0:e.reasons)||[]);if("session_not_found"===i)throw new Kt}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce(((t,e)=>t&&"string"==typeof e),!0))throw new te(_e(r),t.status,r.weak_password.reasons);throw new Bt(_e(r),t.status||500,i)}async function Ee(t,e,n,r){var i;const o=Object.assign({},null==r?void 0:r.headers);o[Mt]||(o[Mt]=Ft),(null==r?void 0:r.jwt)&&(o.Authorization=`Bearer ${r.jwt}`);const a=null!==(i=null==r?void 0:r.query)&&void 0!==i?i:{};(null==r?void 0:r.redirectTo)&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await async function(t,e,n,r,i,o){const a=((t,e,n,r)=>{const i={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==e?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))})(e,r,{},o);let s;try{s=await t(n,Object.assign({},a))}catch(t){throw console.error(t),new Zt(_e(t),0)}if(s.ok||await xe(s),null==r?void 0:r.noResolveJson)return s;try{return await s.json()}catch(t){await xe(t)}}(t,e,n+s,{headers:o,noResolveJson:null==r?void 0:r.noResolveJson},0,null==r?void 0:r.body);return(null==r?void 0:r.xform)?null==r?void 0:r.xform(c):{data:Object.assign({},c),error:null}}function Se(t){var e;let n=null;var r;return function(t){return t.access_token&&t.refresh_token&&t.expires_in}(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=(r=t.expires_in,Math.round(Date.now()/1e3)+r))),{data:{session:n,user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function je(t){const e=Se(t);return!e.error&&t.weak_password&&"object"==typeof t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&"string"==typeof t.weak_password.message&&t.weak_password.reasons.reduce(((t,e)=>t&&"string"==typeof e),!0)&&(e.data.weak_password=t.weak_password),e}function Te(t){var e;return{data:{user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function Oe(t){return{data:t,error:null}}function Pe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},user:Object.assign({},a)},error:null}}function Ce(t){return t}class Ae{constructor({url:t="",headers:e={},fetch:n}){this.url=t,this.headers=e,this.fetch=de(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Gt(t))return{data:null,error:t};throw t}}async inviteUserByEmail(t,e={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Te})}catch(t){if(Gt(t))return{data:{user:null},error:t};throw t}}async generateLink(t){try{const{options:e}=t,n=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(t,["options"]),r=Object.assign(Object.assign({},n),e);return"newEmail"in n&&(r.new_email=null==n?void 0:n.newEmail,delete r.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Pe,redirectTo:null==e?void 0:e.redirectTo})}catch(t){if(Gt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Te})}catch(t){if(Gt(t))return{data:{user:null},error:t};throw t}}async listUsers(t){var e,n,r,i,o,a,s;try{const c={nextPage:null,lastPage:0,total:0},l=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(e=null==t?void 0:t.page)||void 0===e?void 0:e.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(r=null==t?void 0:t.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:Ce});if(l.error)throw l.error;const u=await l.json(),h=null!==(o=l.headers.get("x-total-count"))&&void 0!==o?o:0,d=null!==(s=null===(a=l.headers.get("link"))||void 0===a?void 0:a.split(","))&&void 0!==s?s:[];return d.length>0&&(d.forEach((t=>{const e=parseInt(t.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(t.split(";")[1].split("=")[1]);c[`${n}Page`]=e})),c.total=parseInt(h)),{data:Object.assign(Object.assign({},u),c),error:null}}catch(t){if(Gt(t))return{data:{users:[]},error:t};throw t}}async getUserById(t){try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Te})}catch(t){if(Gt(t))return{data:{user:null},error:t};throw t}}async updateUserById(t,e){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Te})}catch(t){if(Gt(t))return{data:{user:null},error:t};throw t}}async deleteUser(t,e=!1){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Te})}catch(t){if(Gt(t))return{data:{user:null},error:t};throw t}}async _listFactors(t){try{const{data:e,error:n}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:t=>({data:{factors:t},error:null})});return{data:e,error:n}}catch(t){if(Gt(t))return{data:null,error:t};throw t}}async _deleteFactor(t){try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(t){if(Gt(t))return{data:null,error:t};throw t}}}const Re={getItem:t=>he()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{he()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{he()&&globalThis.localStorage.removeItem(t)}};function Ie(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Le=!!(globalThis&&he()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class $e extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ne extends $e{}async function Ue(t,e,n){Le&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout((()=>{r.abort(),Le&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)}),e),await Promise.resolve().then((()=>globalThis.navigator.locks.request(t,0===e?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===e)throw Le&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ne(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Le)try{const t=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(t,null,"  "))}catch(t){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",t)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}Le&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{Le&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}))))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(t){"undefined"!=typeof self&&(self.globalThis=self)}}();const Me={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ut,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function De(t,e,n){return await n()}class Fe{constructor(t){var e,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fe.nextInstanceID,Fe.nextInstanceID+=1,this.instanceID>0&&le()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Me),t);if(this.logDebugMessages=!!r.debug,"function"==typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Ae({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=de(r.fetch),this.lock=r.lock||De,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:le()&&(null===(e=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===e?void 0:e.locks)?this.lock=Ue:this.lock=De,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:he()?this.storage=Re:(this.memoryStorage={},this.storage=Ie(this.memoryStorage)):(this.memoryStorage={},this.storage=Ie(this.memoryStorage)),le()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(t){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",t)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async t=>{this._debug("received broadcast notification from other tab or client",t),await this._notifyAllSubscribers(t.data.event,t.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$t}) ${(new Date).toISOString()}`,...t),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var t;try{const e=function(t){const e={},n=new URL(t);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((t,n)=>{e[n]=t}))}catch(t){}return n.searchParams.forEach(((t,n)=>{e[n]=t})),e}(window.location.href);let n="none";if(this._isImplicitGrantCallback(e)?n="implicit":await this._isPKCECallback(e)&&(n="pkce"),le()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:i}=await this._getSessionFromURL(e,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),function(t){return Gt(t)&&"AuthImplicitGrantRedirectError"===t.name}(i)){const e=null===(t=i.details)||void 0===t?void 0:t.code;if("identity_already_exists"===e||"identity_not_found"===e||"single_identity_not_deletable"===e)return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout((async()=>{"recovery"===a?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Gt(t)?{error:t}:{error:new Ht("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,n,r;try{const i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(e=null==t?void 0:t.options)||void 0===e?void 0:e.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null==t?void 0:t.options)||void 0===r?void 0:r.captchaToken}},xform:Se}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const s=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:c,session:s},error:null}}catch(t){if(Gt(t))return{data:{user:null,session:null},error:t};throw t}}async signUp(t){var e,n,r;try{let i;if("email"in t){const{email:n,password:r,options:o}=t;let a=null,s=null;"pkce"===this.flowType&&([a,s]=await we(this.storage,this.storageKey)),i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==o?void 0:o.emailRedirectTo,body:{email:n,password:r,data:null!==(e=null==o?void 0:o.data)&&void 0!==e?e:{},gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken},code_challenge:a,code_challenge_method:s},xform:Se})}else{if(!("phone"in t))throw new Vt("You must provide either an email or phone number and a password");{const{phone:e,password:o,options:a}=t;i=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:e,password:o,data:null!==(n=null==a?void 0:a.data)&&void 0!==n?n:{},channel:null!==(r=null==a?void 0:a.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:Se})}}const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const s=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:c,session:s},error:null}}catch(t){if(Gt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithPassword(t){try{let e;if("email"in t){const{email:n,password:r,options:i}=t;e=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:je})}else{if(!("phone"in t))throw new Vt("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:i}=t;e=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:je})}}const{data:n,error:r}=e;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new Wt}}catch(t){if(Gt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(t){var e,n,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:null===(e=t.options)||void 0===e?void 0:e.redirectTo,scopes:null===(n=t.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=t.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(i=t.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(t)))}async _exchangeCodeForSession(t){const e=await fe(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!=e?e:"").split("/");try{const{data:e,error:i}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Se});if(await me(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return e&&e.session&&e.user?(e.session&&(await this._saveSession(e.session),await this._notifyAllSubscribers("SIGNED_IN",e.session)),{data:Object.assign(Object.assign({},e),{redirectType:null!=r?r:null}),error:i}):{data:{user:null,session:null,redirectType:null},error:new Wt}}catch(t){if(Gt(t))return{data:{user:null,session:null,redirectType:null},error:t};throw t}}async signInWithIdToken(t){try{const{options:e,provider:n,token:r,access_token:i,nonce:o}=t,a=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:Se}),{data:s,error:c}=a;return c?{data:{user:null,session:null},error:c}:s&&s.session&&s.user?(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:c}):{data:{user:null,session:null},error:new Wt}}catch(t){if(Gt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(t){var e,n,r,i,o;try{if("email"in t){const{email:r,options:i}=t;let o=null,a=null;"pkce"===this.flowType&&([o,a]=await we(this.storage,this.storageKey));const{error:s}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(e=null==i?void 0:i.data)&&void 0!==e?e:{},create_user:null===(n=null==i?void 0:i.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:a},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in t){const{phone:e,options:n}=t,{data:a,error:s}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:e,data:null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(i=null==n?void 0:n.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},channel:null!==(o=null==n?void 0:n.channel)&&void 0!==o?o:"sms"}});return{data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:s}}throw new Vt("You must provide either an email or phone number.")}catch(t){if(Gt(t))return{data:{user:null,session:null},error:t};throw t}}async verifyOtp(t){var e,n;try{let r,i;"options"in t&&(r=null===(e=t.options)||void 0===e?void 0:e.redirectTo,i=null===(n=t.options)||void 0===n?void 0:n.captchaToken);const{data:o,error:a}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Se});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const s=o.session,c=o.user;return(null==s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==t.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:c,session:s},error:null}}catch(t){if(Gt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithSSO(t){var e,n,r;try{let i=null,o=null;return"pkce"===this.flowType&&([i,o]=await we(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(n=null===(e=t.options)||void 0===e?void 0:e.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null==t?void 0:t.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Oe})}catch(t){if(Gt(t))return{data:null,error:t};throw t}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async t=>{const{data:{session:e},error:n}=t;if(n)throw n;if(!e)throw new Kt;const{error:r}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:r}}))}catch(t){if(Gt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:n,type:r,options:i}=t,{error:o}=await Ee(this.fetch,"POST",e,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in t){const{phone:n,type:r,options:i}=t,{data:o,error:a}=await Ee(this.fetch,"POST",e,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a}}throw new Vt("You must provide either an email or phone number and a type")}catch(t){if(Gt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,(async()=>this._useSession((async t=>t))))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const t=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await t,await e()))();return this.pendingInLock.push((async()=>{try{await n}catch(t){}})()),n}return await this.lock(`lock:${this.storageKey}`,t,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const t=e();for(this.pendingInLock.push((async()=>{try{await t}catch(t){}})()),await t;this.pendingInLock.length;){const t=[...this.pendingInLock];await Promise.all(t),this.pendingInLock.splice(0,t.length)}return await t}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let t=null;const e=await fe(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),null!==e&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=!!t.expires_at&&1e3*t.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let e=this.suppressGetSessionWarning;t=new Proxy(t,{get:(t,n,r)=>(e||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e=!0,this.suppressGetSessionWarning=!0),Reflect.get(t,n,r))})}return{data:{session:t},error:null}}const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,(async()=>await this._getUser())))}async _getUser(t){try{return t?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Te}):await this._useSession((async t=>{var e,n,r;const{data:i,error:o}=t;if(o)throw o;return(null===(e=i.session)||void 0===e?void 0:e.access_token)||this.hasCustomAuthorizationHeader?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Te}):{data:{user:null},error:new Kt}}))}catch(t){if(Gt(t))return function(t){return Gt(t)&&"AuthSessionMissingError"===t.name}(t)&&(await this._removeSession(),await me(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(t,e)))}async _updateUser(t,e={}){try{return await this._useSession((async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Kt;const o=r.session;let a=null,s=null;"pkce"===this.flowType&&null!=t.email&&([a,s]=await we(this.storage,this.storageKey));const{data:c,error:l}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==e?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:s}),jwt:o.access_token,xform:Te});if(l)throw l;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}}))}catch(t){if(Gt(t))return{data:{user:null},error:t};throw t}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(t)))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Kt;const e=Date.now()/1e3;let n=e,r=!0,i=null;const{payload:o}=ye(t.access_token);if(o.exp&&(n=o.exp,r=n<=e),r){const{session:e,error:n}=await this._callRefreshToken(t.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!e)return{data:{user:null,session:null},error:null};i=e}else{const{data:r,error:o}=await this._getUser(t.access_token);if(o)throw o;i={access_token:t.access_token,refresh_token:t.refresh_token,user:r.user,token_type:"bearer",expires_in:n-e,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(Gt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(t)))}async _refreshSession(t){try{return await this._useSession((async e=>{var n;if(!t){const{data:r,error:i}=e;if(i)throw i;t=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null==t?void 0:t.refresh_token))throw new Kt;const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Gt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(t,e){try{if(!le())throw new Yt("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yt(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if("pkce"===this.flowType)throw new Xt("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Yt("Not a valid implicit grant flow url.")}if("pkce"===e){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xt("No code detected.");const{data:e,error:n}=await this._exchangeCodeForSession(t.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:e.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:s,token_type:c}=t;if(!(i&&a&&o&&c))throw new Yt("No session defined in URL");const l=Math.round(Date.now()/1e3),u=parseInt(a);let h=l+u;s&&(h=parseInt(s));const d=h-l;1e3*d<=Nt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${u}s`);const p=h-u;l-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,l):l-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,l);const{data:f,error:m}=await this._getUser(i);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:h,refresh_token:o,token_type:c,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(t){if(Gt(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantCallback(t){return Boolean(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await fe(this.storage,`${this.storageKey}-code-verifier`);return!(!t.code||!e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(t)))}async _signOut({scope:t}={scope:"global"}){return await this._useSession((async e=>{var n;const{data:r,error:i}=e;if(i)return{error:i};const o=null===(n=r.session)||void 0===n?void 0:n.access_token;if(o){const{error:e}=await this.admin.signOut(o,t);if(e&&(!function(t){return Gt(t)&&"AuthApiError"===t.name}(e)||404!==e.status&&401!==e.status&&403!==e.status))return{error:e}}return"others"!==t&&(await this._removeSession(),await me(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(t){const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})),n={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(e)}))})(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession((async e=>{var n,r;try{const{data:{session:r},error:i}=e;if(i)throw i;await(null===(n=this.stateChangeEmitters.get(t))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",t,"session",r)}catch(e){await(null===(r=this.stateChangeEmitters.get(t))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",e),console.error(e)}}))}async resetPasswordForEmail(t,e={}){let n=null,r=null;"pkce"===this.flowType&&([n,r]=await we(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(t){if(Gt(t))return{data:null,error:t};throw t}}async getUserIdentities(){var t;try{const{data:e,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(t=e.user.identities)&&void 0!==t?t:[]},error:null}}catch(t){if(Gt(t))return{data:null,error:t};throw t}}async linkIdentity(t){var e;try{const{data:n,error:r}=await this._useSession((async e=>{var n,r,i,o,a;const{data:s,error:c}=e;if(c)throw c;const l=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:null===(n=t.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=t.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=t.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",l,{headers:this.headers,jwt:null!==(a=null===(o=s.session)||void 0===o?void 0:o.access_token)&&void 0!==a?a:void 0})}));if(r)throw r;return le()&&!(null===(e=t.options)||void 0===e?void 0:e.skipBrowserRedirect)&&window.location.assign(null==n?void 0:n.url),{data:{provider:t.provider,url:null==n?void 0:n.url},error:null}}catch(e){if(Gt(e))return{data:{provider:t.provider,url:null},error:e};throw e}}async unlinkIdentity(t){try{return await this._useSession((async e=>{var n,r;const{data:i,error:o}=e;if(o)throw o;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(t){if(Gt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const i=Date.now();return await(n=async n=>(n>0&&await async function(t){return await new Promise((e=>{setTimeout((()=>e(null)),t)}))}(200*Math.pow(2,n-1)),this._debug(e,"refreshing attempt",n),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Se})),r=(t,e)=>{const n=200*Math.pow(2,t);return e&&Qt(e)&&Date.now()+n-i<Nt},new Promise(((t,e)=>{(async()=>{for(let i=0;i<1/0;i++)try{const e=await n(i);if(!r(i,null))return void t(e)}catch(t){if(!r(i,t))return void e(t)}})()})))}catch(t){if(this._debug(e,"error",t),Gt(t))return{data:{session:null,user:null},error:t};throw t}finally{this._debug(e,"end")}var n,r}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",n),le()&&!e.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const e="#_recoverAndRefresh()";this._debug(e,"begin");try{const n=await fe(this.storage,this.storageKey);if(this._debug(e,"session from storage",n),!this._isValidSession(n))return this._debug(e,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(t=n.expires_at)&&void 0!==t?t:1/0)-Date.now()<9e4;if(this._debug(e,`session has${r?"":" not"} expired with margin of 90000s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:t}=await this._callRefreshToken(n.refresh_token);t&&(console.error(t),Qt(t)||(this._debug(e,"refresh failed with a non-retryable error, removing the session",t),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(t){return this._debug(e,"error",t),void console.error(t)}finally{this._debug(e,"end")}}async _callRefreshToken(t){var e,n;if(!t)throw new Kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new ge;const{data:e,error:n}=await this._refreshAccessToken(t);if(n)throw n;if(!e.session)throw new Kt;await this._saveSession(e.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",e.session);const r={session:e.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(t){if(this._debug(r,"error",t),Gt(t)){const n={session:null,error:t};return Qt(t)||await this._removeSession(),null===(e=this.refreshingDeferred)||void 0===e||e.resolve(n),n}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(t),t}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,e,n=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",e,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:e});const r=[],i=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(t,e)}catch(t){r.push(t)}}));if(await Promise.all(i),r.length>0){for(let t=0;t<r.length;t+=1)console.error(r[t]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pe(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await me(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&le()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval((()=>this._autoRefreshTokenTick()),Nt);this.autoRefreshTicker=t,t&&"object"==typeof t&&"function"==typeof t.unref?t.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(t),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/Nt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(!(t.isAcquireTimeout||t instanceof $e))throw t;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!le()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,n){const r=[`provider=${encodeURIComponent(e)}`];if((null==n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null==n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[t,e]=await we(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(t)}`,code_challenge_method:`${encodeURIComponent(e)}`});r.push(n.toString())}if(null==n?void 0:n.queryParams){const t=new URLSearchParams(n.queryParams);r.push(t.toString())}return(null==n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession((async e=>{var n;const{data:r,error:i}=e;return i?{data:null,error:i}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Gt(t))return{data:null,error:t};throw t}}async _enroll(t){try{return await this._useSession((async e=>{var n,r;const{data:i,error:o}=e;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},"phone"===t.factorType?{phone:t.phone}:{issuer:t.issuer}),{data:s,error:c}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:null===(n=null==i?void 0:i.session)||void 0===n?void 0:n.access_token});return c?{data:null,error:c}:("totp"===t.factorType&&(null===(r=null==s?void 0:s.totp)||void 0===r?void 0:r.qr_code)&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null})}))}catch(t){if(Gt(t))return{data:null,error:t};throw t}}async _verify(t){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async e=>{var n;const{data:r,error:i}=e;if(i)return{data:null,error:i};const{data:o,error:a}=await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})}))}catch(t){if(Gt(t))return{data:null,error:t};throw t}}))}async _challenge(t){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async e=>{var n;const{data:r,error:i}=e;return i?{data:null,error:i}:await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:null===(n=null==r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Gt(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(t){const{data:e,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const n=(null==t?void 0:t.factors)||[],r=n.filter((t=>"totp"===t.factor_type&&"verified"===t.status)),i=n.filter((t=>"phone"===t.factor_type&&"verified"===t.status));return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async t=>{var e,n;const{data:{session:r},error:i}=t;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ye(r.access_token);let a=null;o.aal&&(a=o.aal);let s=a;return(null!==(n=null===(e=r.user.factors)||void 0===e?void 0:e.filter((t=>"verified"===t.status)))&&void 0!==n?n:[]).length>0&&(s="aal2"),{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:o.amr||[]},error:null}}))))}async fetchJwk(t,e={keys:[]}){let n=e.keys.find((e=>e.kid===t));if(n)return n;if(n=this.jwks.keys.find((e=>e.kid===t)),n&&this.jwks_cached_at+6e5>Date.now())return n;const{data:r,error:i}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||0===r.keys.length)throw new ee("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),n=r.keys.find((e=>e.kid===t)),!n)throw new ee("No matching signing key found in JWKS");return n}async getClaims(t,e={keys:[]}){try{let n=t;if(!n){const{data:t,error:e}=await this.getSession();if(e||!t.session)return{data:null,error:e};n=t.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:s}}=ye(n);if(function(t){if(!t)throw new Error("Missing exp claim");if(t<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(i.exp),!r.kid||"HS256"===r.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:t}=await this.getUser(n);if(t)throw t;return{data:{claims:i,header:r,signature:o},error:null}}const c=function(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),l=await this.fetchJwk(r.kid,e),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,o,function(t){const e=[];return function(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const e=1024*(r-55296)&65535;r=65536+(t.charCodeAt(n+1)-56320&65535|e),n+=1}se(r,e)}}(t,(t=>e.push(t))),new Uint8Array(e)}(`${a}.${s}`)))throw new ee("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(t){if(Gt(t))return{data:null,error:t};throw t}}}Fe.nextInstanceID=0;const ze=Fe;class qe extends ze{constructor(t){super(t)}}class Ge{constructor(t,e,n){var r,i,o;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const a=(s=t).endsWith("/")?s:s+"/";var s;const c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,u=function(t,e){var n,r;const{db:i,auth:o,realtime:a,global:s}=t,{db:c,auth:l,realtime:u,global:h}=e,d={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),o),realtime:Object.assign(Object.assign({},u),a),global:Object.assign(Object.assign(Object.assign({},h),s),{headers:Object.assign(Object.assign({},null!==(n=null==h?void 0:h.headers)&&void 0!==n?n:{}),null!==(r=null==s?void 0:s.headers)&&void 0!==r?r:{})}),accessToken:()=>{return t=this,e=void 0,r=function*(){return""},new((n=void 0)||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}));var t,e,n,r}};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}(null!=n?n:{},{db:Pt,realtime:At,auth:Object.assign(Object.assign({},Ct),{storageKey:l}),global:Ot});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(i=u.global.headers)&&void 0!==i?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(t,e)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(e)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(o=u.auth)&&void 0!==o?o:{},this.headers,u.global.fetch),this.fetch=Lt(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new k(new URL("rest/v1",c).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new b(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new jt(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e,n,r,i,o;return n=this,r=void 0,o=function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(e=null===(t=n.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:null},new((i=void 0)||(i=Promise))((function(t,e){function a(t){try{c(o.next(t))}catch(t){e(t)}}function s(t){try{c(o.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(a,s)}c((o=o.apply(n,r||[])).next())}))}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,lock:a,debug:s},c,l){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qe({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),c),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,flowType:o,lock:a,debug:s,fetch:l,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new it(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},null==t?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((t,e)=>{this._handleTokenChanged(t,"CLIENT",null==e?void 0:e.access_token)}))}_handleTokenChanged(t,e,n){"TOKEN_REFRESHED"!==t&&"SIGNED_IN"!==t||this.changedAccessToken===n?"SIGNED_OUT"===t&&(this.realtime.setAuth(),"STORAGE"==e&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const Be=(t,e,n)=>new Ge(t,e,n);function He(t){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(t)}function Je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ke(r.key),r)}}function Ke(t){var e=function(t){if("object"!=He(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=He(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==He(e)?e:e+""}Be("https://wfstjsfhmgrxdnbvwfoh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indmc3Rqc2ZobWdyeGRuYnZ3Zm9oIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxNzE3ODksImV4cCI6MjA2NDc0Nzc4OX0.AuWCM71sbod7ii7Bt6q8IfMX56rLolqsQux4CNPiRGU");var We=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._isMobileMenuOpen=!1},(e=[{key:"render",value:function(){var t=document.createElement("div");t.innerHTML='\n      <div class="mobile-menu hidden md:hidden bg-white w-full px-4 py-2 shadow-lg">\n        <a href="#/" class="block py-3 px-4 text-gray-800 hover:bg-blue-50 rounded">Home</a>\n        <a href="#/feedback" class="block py-3 px-4 text-gray-800 hover:bg-blue-50 rounded">Feedback</a>\n        <a href="#/contact" class="block py-3 px-4 text-gray-800 hover:bg-blue-50 rounded">Contact</a>\n      </div>\n\n      <div class="w-full px-2 md:px-5 mt-3 text-center">\n        <img \n          src="./images/Banner.png"   \n          alt="Banner"\n          class="w-full h-auto object-cover rounded-xl border-4 shadow-2xl mb-20"\n        >\n      </div>\n\n      <h2 class="text-2xl font-medium text-center">Layanan Yang Tersedia</h2>\n      <section class="py-12">\n        <div class="container mx-auto mb-4 px-4">\n          <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-10">\n            <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow penyakit-tulang-card cursor-pointer">\n              <div class="h-48 flex items-center justify-center">\n                <img src="./images/Tulang.png" alt="Penyakit Tulang" class="h-full w-full object-cover">\n              </div>\n              <div class="p-6">\n                <h3 class="text-xl font-semibold text-gray-800 text-center">Penyakit Tulang</h3>\n              </div>\n            </div>\n\n            <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow penyakit-umum-card cursor-pointer">\n              <div class="h-48 flex items-center justify-center">\n                <img src="./images/Umum.png" alt="Penyakit Umum" class="h-full w-full object-cover">\n              </div>\n              <div class="p-6">\n                <h3 class="text-xl font-semibold text-gray-800 text-center">Penyakit Umum</h3>\n              </div>\n            </div>\n\n            <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow penyakit-pencernaan-card cursor-pointer">\n              <div class="h-48 flex items-center justify-center">\n                <img src="./images/Pencernaan.png" alt="Penyakit Pencernaan" class="h-full w-full object-cover">\n              </div>\n              <div class="p-6">\n                <h3 class="text-xl font-semibold text-gray-800 text-center">Penyakit Pencernaan</h3>\n              </div>\n            </div>\n\n            <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow penyakit-kulit-card cursor-pointer">\n              <div class="h-48 flex items-center justify-center">\n                <img src="./images/Kulit.png" alt="Penyakit Kulit" class="h-full w-full object-cover">\n              </div>\n              <div class="p-6">\n                <h3 class="text-xl font-semibold text-gray-800 text-center">Penyakit Kulit</h3>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    ';var e=t.querySelector(".penyakit-tulang-card");e&&e.addEventListener("click",(function(){window.location.hash="/bone-form"}));var n=t.querySelector(".penyakit-umum-card");n&&n.addEventListener("click",(function(){window.location.hash="/general-form"}));var r=t.querySelector(".penyakit-pencernaan-card");r&&r.addEventListener("click",(function(){window.location.hash="/digestive-form"}));var i=t.querySelector(".penyakit-kulit-card");return i&&i.addEventListener("click",(function(){window.location.hash="/skin-form"})),t}}])&&Je(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Ve(t){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ve(t)}function Ye(){Ye=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n,r){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype);return c(a,"_invoke",function(e,n,r){var i=1;return function(o,a){if(3===i)throw Error("Generator is already running");if(4===i){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===i)throw i=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=3;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?4:2,l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=4,r.method="throw",r.arg=l.arg)}}}(e,r,new E(i||[])),!0),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h={};function d(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==n&&r.call(y,o)&&(m=y);var v=f.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==Ve(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;c(this,"_invoke",(function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}),!0)}function _(e,n){var r=n.method,i=e.i[r];if(i===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=u(i,e.i,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.r]=a.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function E(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function S(e){if(null!=e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Ve(e)+" is not iterable")}return p.prototype=f,c(v,"constructor",f),c(f,"constructor",p),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){a.type="throw",a.arg=e,n.next=t}for(var i=n.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return r("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<l)return r(l),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var i=r;break}}i&&("break"===t||"continue"===t)&&i[0]<=e&&e<=i[2]&&(i=null);var o=i?i[4]:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i[2],h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var i=r.arg;x(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:S(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function Xe(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function Ze(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Xe(o,r,i,a,s,"next",t)}function s(t){Xe(o,r,i,a,s,"throw",t)}a(void 0)}))}}var Qe=Be("https://mjgktqnmlqxwgccmpspc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1qZ2t0cW5tbHF4d2djY21wc3BjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY0NTgyMTksImV4cCI6MjA2MjAzNDIxOX0.vcLoBM9x77l8iyndqhdnKODND2-EWEIhAz3PMw1RO8g");function tn(){return en.apply(this,arguments)}function en(){return(en=Ze(Ye().mark((function t(){var e,n,r;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qe.from("feedback").select("*").order("created_at",{ascending:!1});case 2:if(e=t.sent,n=e.data,!(r=e.error)){t.next=8;break}return console.error(" Gagal ambil feedback:",r),t.abrupt("return",[]);case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function nn(t){return rn.apply(this,arguments)}function rn(){return(rn=Ze(Ye().mark((function t(e){var n,r,i,o,a;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.name,r=e.message,i=e.rating,t.next=3,Qe.from("feedback").insert([{name:n,message:r,rating:i,created_at:new Date}]);case 3:o=t.sent,(a=o.error)&&(console.error(" Gagal kirim feedback:",a),alert("Gagal mengirim feedback."));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function on(t){return on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},on(t)}function an(){an=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n,r){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype);return c(a,"_invoke",function(e,n,r){var i=1;return function(o,a){if(3===i)throw Error("Generator is already running");if(4===i){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===i)throw i=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=3;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?4:2,l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=4,r.method="throw",r.arg=l.arg)}}}(e,r,new E(i||[])),!0),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h={};function d(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==n&&r.call(y,o)&&(m=y);var v=f.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==on(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;c(this,"_invoke",(function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}),!0)}function _(e,n){var r=n.method,i=e.i[r];if(i===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=u(i,e.i,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.r]=a.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function E(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function S(e){if(null!=e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(on(e)+" is not iterable")}return p.prototype=f,c(v,"constructor",f),c(f,"constructor",p),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){a.type="throw",a.arg=e,n.next=t}for(var i=n.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return r("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<l)return r(l),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var i=r;break}}i&&("break"===t||"continue"===t)&&i[0]<=e&&e<=i[2]&&(i=null);var o=i?i[4]:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i[2],h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var i=r.arg;x(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:S(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function sn(t){return function(t){if(Array.isArray(t))return cn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return cn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ln(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function un(t){var e=document.createElement("form");e.className="space-y-4 bg-white p-4 rounded-xl shadow";var n=document.createElement("input");n.type="text",n.placeholder="Your Name",n.className="w-full border rounded p-2",n.required=!0;var r=document.createElement("textarea");r.placeholder="Your Feedback",r.className="w-full border rounded p-2",r.required=!0;var i=document.createElement("div");i.className="flex gap-1";for(var o=0,a=function(t){var e=document.createElement("span");e.textContent="",e.className="text-2xl cursor-pointer text-yellow-400",e.addEventListener("click",(function(){o=t,sn(i.children).forEach((function(e,n){e.textContent=n<t?"":""}))})),i.appendChild(e)},s=1;s<=5;s++)a(s);var c=document.createElement("button");return c.type="submit",c.textContent="Submit",c.className="bg-blue-500 text-white px-4 py-2 rounded",e.append(n,r,i,c),e.addEventListener("submit",function(){var a,s=(a=an().mark((function a(s){return an().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),0!==o){a.next=3;break}return a.abrupt("return",alert("Please give a rating!"));case 3:return a.next=5,t({name:n.value,message:r.value,rating:o});case 5:e.reset(),o=0,sn(i.children).forEach((function(t){return t.textContent=""}));case 8:case"end":return a.stop()}}),a)})),function(){var t=this,e=arguments;return new Promise((function(n,r){var i=a.apply(t,e);function o(t){ln(i,n,r,o,s,"next",t)}function s(t){ln(i,n,r,o,s,"throw",t)}o(void 0)}))});return function(t){return s.apply(this,arguments)}}()),e}function hn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function dn(t){var e=t.name,n=t.message,r=t.rating,i=document.createElement("div");i.className="\n    relative bg-white p-5 rounded-2xl shadow-lg border-t-4\n  ";var o,a=[{ring:"ring-yellow-400",text:"text-yellow-600",border:"border-yellow-400"},{ring:"ring-purple-400",text:"text-purple-600",border:"border-purple-400"},{ring:"ring-blue-400",text:"text-blue-600",border:"border-blue-400"},{ring:"ring-pink-400",text:"text-pink-600",border:"border-pink-400"},{ring:"ring-green-400",text:"text-green-600",border:"border-green-400"},{ring:"ring-red-400",text:"text-red-600",border:"border-red-400"}],s=a[(o=e,function(t){if(Array.isArray(t))return hn(t)}(o)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||function(t,e){if(t){if("string"==typeof t)return hn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hn(t,e):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reduce((function(t,e){return t+e.charCodeAt(0)}),0)%a.length];i.classList.add(s.border);var c=document.createElement("div");c.className="\n    absolute -top-5 left-4 w-10 h-10 rounded-full bg-white\n    ring-4 ring-offset-2 ".concat(s.ring,"\n    flex items-center justify-center ").concat(s.text," font-bold text-sm\n  "),c.textContent=e.charAt(0).toUpperCase();var l=document.createElement("h3");l.textContent=e,l.className="font-semibold text-gray-800 text-base flex items-center gap-2 pt-2";var u=document.createElement("div");u.className="text-yellow-400 text-lg mt-1";for(var h=0;h<5;h++){var d=document.createElement("span");d.textContent=h<r?"":"",u.appendChild(d)}var p=document.createElement("p");return p.textContent=n,p.className="italic text-gray-700 mt-2 text-sm",i.append(c,l,u,p),i}function pn(t){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(t)}function fn(){fn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n,r){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype);return c(a,"_invoke",function(e,n,r){var i=1;return function(o,a){if(3===i)throw Error("Generator is already running");if(4===i){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===i)throw i=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=3;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?4:2,l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=4,r.method="throw",r.arg=l.arg)}}}(e,r,new E(i||[])),!0),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h={};function d(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==n&&r.call(y,o)&&(m=y);var v=f.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==pn(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;c(this,"_invoke",(function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}),!0)}function _(e,n){var r=n.method,i=e.i[r];if(i===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=u(i,e.i,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.r]=a.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function E(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function S(e){if(null!=e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(pn(e)+" is not iterable")}return p.prototype=f,c(v,"constructor",f),c(f,"constructor",p),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){a.type="throw",a.arg=e,n.next=t}for(var i=n.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return r("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<l)return r(l),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var i=r;break}}i&&("break"===t||"continue"===t)&&i[0]<=e&&e<=i[2]&&(i=null);var o=i?i[4]:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i[2],h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var i=r.arg;x(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:S(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function mn(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function gn(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){mn(o,r,i,a,s,"next",t)}function s(t){mn(o,r,i,a,s,"throw",t)}a(void 0)}))}}function yn(){return vn.apply(this,arguments)}function vn(){return vn=gn(fn().mark((function t(){var e,n,r,i,o,a,s;return fn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=function(){return(o=gn(fn().mark((function t(){var e;return fn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tn();case 2:e=t.sent,r.innerHTML="",e.forEach((function(t){r.appendChild(dn(t))}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)},i=function(){return o.apply(this,arguments)},(e=document.createElement("div")).className="min-h-screen bg-gray-100 flex flex-col items-center px-4 py-10",(n=document.createElement("h2")).textContent="Beri Rating dan Masukan Anda",n.className="text-2xl font-bold text-gray-800",(r=document.createElement("div")).className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mt-10 w-full max-w-6xl",a=un(function(){var t=gn(fn().mark((function t(e){return fn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nn(e);case 2:i();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.appendChild(n),e.appendChild(a),(s=document.createElement("h3")).textContent=" Masukan Terbaru",s.className="text-3xl font-bold text-gray-700 mt-10 mb-4",e.appendChild(s),e.appendChild(r),i(),t.abrupt("return",e);case 19:case"end":return t.stop()}}),t)}))),vn.apply(this,arguments)}function wn(t){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(t)}function bn(){bn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n,r){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype);return c(a,"_invoke",function(e,n,r){var i=1;return function(o,a){if(3===i)throw Error("Generator is already running");if(4===i){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===i)throw i=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=3;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?4:2,l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=4,r.method="throw",r.arg=l.arg)}}}(e,r,new E(i||[])),!0),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h={};function d(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==n&&r.call(y,o)&&(m=y);var v=f.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==wn(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;c(this,"_invoke",(function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}),!0)}function _(e,n){var r=n.method,i=e.i[r];if(i===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=u(i,e.i,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.r]=a.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function E(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function S(e){if(null!=e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(wn(e)+" is not iterable")}return p.prototype=f,c(v,"constructor",f),c(f,"constructor",p),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){a.type="throw",a.arg=e,n.next=t}for(var i=n.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return r("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<l)return r(l),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var i=r;break}}i&&("break"===t||"continue"===t)&&i[0]<=e&&e<=i[2]&&(i=null);var o=i?i[4]:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i[2],h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var i=r.arg;x(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:S(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function _n(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}const kn={render:function(){return(t=bn().mark((function t(){var e;return bn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=document.createElement("div")).innerHTML='\n      <section class="min-h-screen bg-gray-50 flex flex-col items-center justify-center px-4 py-10">\n        <h1 class="text-3xl md:text-4xl font-bold text-gray-900 text-center">Hubungi Diagnosmart</h1>\n        <p class="text-gray-600 text-center mb-10 mt-5">Kami siap membantu Anda dengan ramah dan professional</p>\n\n        <div class="max-w-6xl w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-10 items-center">\n          <div class="flex justify-center md:justify-start">\n            <img class="w-64 md:w-80 animate-float md:ml-10" src="./images/maskot-diagnosmart.png" alt="Maskot Diagnosmart">\n          </div>\n\n          <div class="space-y-6">\n            \x3c!-- Telepon --\x3e\n            <div class="group bg-white rounded-2xl shadow-md p-6 transition-all duration-300 cursor-pointer overflow-hidden w-full sm:w-fit">\n              <div class="inline-flex items-center gap-2 text-xl font-semibold text-gray-800">\n                 <span>Telepon</span>\n              </div>\n              <div class="max-h-0 opacity-0 group-hover:max-h-40 group-hover:opacity-100 transition-all duration-500 ease-in-out overflow-hidden mt-2">\n                <p class="text-gray-600 text-sm">Senin-Jumat, 09.00-17.00 WIB</p>\n                <a href="tel:+6281234567890" class="text-blue-600 hover:underline text-sm">+62 812-3456-7890</a>\n              </div>\n            </div>\n\n            <div class="group bg-white rounded-2xl shadow-md p-6 transition-all duration-300 cursor-pointer overflow-hidden w-full sm:w-fit">\n              <div class="inline-flex items-center gap-2 text-xl font-semibold text-gray-800">\n                 <span>Email</span>\n              </div>\n              <div class="max-h-0 opacity-0 group-hover:max-h-40 group-hover:opacity-100 transition-all duration-500 ease-in-out overflow-hidden mt-2">\n                <p class="text-gray-600 text-sm">Kirim email atau pertanyaan :</p>\n                <a href="mailto:halo@diagnosmart.id" class="text-blue-600 hover:underline text-sm">halo@diagnosmart.id</a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    ',t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){_n(o,r,i,a,s,"next",t)}function s(t){_n(o,r,i,a,s,"throw",t)}a(void 0)}))})();var t}};function xn(t){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(t)}function En(){En=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n,r){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype);return c(a,"_invoke",function(e,n,r){var i=1;return function(o,a){if(3===i)throw Error("Generator is already running");if(4===i){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===i)throw i=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=3;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?4:2,l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=4,r.method="throw",r.arg=l.arg)}}}(e,r,new E(i||[])),!0),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h={};function d(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==n&&r.call(y,o)&&(m=y);var v=f.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==xn(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;c(this,"_invoke",(function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}),!0)}function _(e,n){var r=n.method,i=e.i[r];if(i===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=u(i,e.i,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.r]=a.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function E(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function S(e){if(null!=e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(xn(e)+" is not iterable")}return p.prototype=f,c(v,"constructor",f),c(f,"constructor",p),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){a.type="throw",a.arg=e,n.next=t}for(var i=n.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return r("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<l)return r(l),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var i=r;break}}i&&("break"===t||"continue"===t)&&i[0]<=e&&e<=i[2]&&(i=null);var o=i?i[4]:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i[2],h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var i=r.arg;x(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:S(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function Sn(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function jn(){var t=document.createElement("div");t.innerHTML='\n    <section class="w-full md:w-3/4 mx-auto bg-white p-6 rounded-lg shadow-md mt-4">\n      <h2 class="text-2xl font-bold mb-4">Prediksi Penyakit Tulang</h2>\n      <p class="text-gray-700 mb-3">Pilih gejala untuk mendapat prediksi penyakit tulang :</p>\n\n      <form id="bone-form" class="relative">\n\n        <div id="selected-symptoms" class="mb-2 flex flex-wrap gap-2"></div>\n\n        <div class="relative mb-4">\n          <input id="symptom-input" class="p-2 border rounded-md w-full" type="text" placeholder="Masukkan Gejala" autocomplete="off" />\n        </div>\n\n      <button type="submit" class="text-white py-2 px-4 rounded-md" style="background-color: #076ba1;">Prediksi</button>\n      </form>\n\n      <div id="result" class="mt-4"></div>\n    </section>\n  ';var e=t.querySelector("#bone-form"),n=t.querySelector("#result"),r=t.querySelector("#symptom-input"),i=t.querySelector("#selected-symptoms"),o={"Nyeri punggung":"back_pain",Pusing:"dizziness","Nyeri sendi panggul":"hip_joint_pain","Nyeri sendi":"joint_pain","Nyeri lutut":"knee_pain","Kehilangan keseimbangan":"loss_of_balance","Gerakan kaku":"movement_stiffness","Otot lemas":"muscle_weakness","Nyeri leher":"neck_pain","Nyeri saat berjalan":"painful_walking","Leher kaku":"stiff_neck","Pembengkakan sendi":"swelling_joints","Lemah pada tangan atau kaki":"weakness_in_limbs"},a=[];function s(t){var e=document.querySelector("#autocomplete-dropdown");e&&e.remove();var n=document.createElement("div");n.id="autocomplete-dropdown",n.classList.add("absolute","bg-white","border","w-full","z-10","mt-1","max-h-48","overflow-y-auto","rounded-md","shadow"),t.forEach((function(t){var e=document.createElement("div");e.classList.add("p-2","cursor-pointer","hover:bg-gray-100"),e.textContent=t,e.addEventListener("click",(function(){a.includes(t)||(a.push(t),c()),n.remove(),r.value=""})),n.appendChild(e)})),r.parentElement.appendChild(n)}function c(){i.innerHTML=a.map((function(t){return'\n    <span class="p-1 text-white rounded-md inline-flex items-center" style="background-color: #076ba1;">\n      '.concat(t,'\n      <span class="ml-2 cursor-pointer text-white font-bold" data-symptom="').concat(t,'"></span>\n    </span>')})).join(""),i.querySelectorAll("span[data-symptom]").forEach((function(t){t.addEventListener("click",(function(){var e=t.getAttribute("data-symptom");a=a.filter((function(t){return t!==e})),c()}))}))}function l(){var t=r.value.toLowerCase(),e=Object.keys(o).filter((function(e){return e.toLowerCase().includes(t)}));if(e.length>0)s(e);else{var n=document.querySelector("#autocomplete-dropdown");n&&n.remove()}}return r.addEventListener("focus",l),r.addEventListener("input",l),document.addEventListener("click",(function(t){setTimeout((function(){var e=document.querySelector("#autocomplete-dropdown");!e||r.contains(t.target)||e.contains(t.target)||e.remove()}),1e5)})),e.addEventListener("submit",function(){var t,e=(t=En().mark((function t(e){var r,i;return En().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),0!==a.length){t.next=4;break}return n.innerHTML="<p class='text-red-500'>Pilih gejala terlebih dahulu.</p>",t.abrupt("return");case 4:return t.prev=4,t.next=7,fetch("/api/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symptoms:a,model_type:"bone"})});case 7:if((r=t.sent).ok){t.next=10;break}throw new Error("Failed to fetch prediction.");case 10:return t.next=12,r.json();case 12:i=t.sent,n.innerHTML='\n        <div class="p-4 border rounded-md bg-green-50">\n          <h3 class="text-lg font-semibold text-green-700 mb-2">Prediksi Penyakit: '.concat(i.prediction,'</h3>\n          <p class="text-gray-800 mb-4">').concat(i.description||"No description available.","</p>\n          ").concat(i.precautions&&i.precautions.length?'<h4 class="font-medium text-green-700 mb-1">Pencegahan:</h4>\n                 <ul class="list-disc list-inside text-gray-700">\n                   '.concat(i.precautions.map((function(t){return"<li>".concat(t,"</li>")})).join(""),"\n                 </ul>"):"",'\n      <div class="mt-4 p-3 bg-white border border-gray-200 rounded-md shadow-sm text-center">\n        <p class="text-gray-800 mb-4">\n          Lebih baik mencegah daripada mengobati, segera periksa jika kondisi memburuk. <br>\n          Kami harap informasi ini membantu Anda. Jika berkenan, silakan berikan penilaian atau masukan Anda yang akan membantu kami meningkatkan kualitas layanan kami.\n        </p>\n        <div class="flex justify-center">\n          <a href="#/feedback"\n            class="text-white px-4 py-2 rounded-md transition hover:opacity-90"\n            style="background-color: #076ba1;">\n            Berikan Rating & Masukan\n          </a>\n        </div>\n      </div>\n      '),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),n.innerHTML='<p class="text-red-500">'.concat(t.t0.message,"</p>");case 19:case"end":return t.stop()}}),t,null,[[4,16]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Sn(o,r,i,a,s,"next",t)}function s(t){Sn(o,r,i,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()),t}function Tn(t){return Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(t)}function On(){On=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n,r){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype);return c(a,"_invoke",function(e,n,r){var i=1;return function(o,a){if(3===i)throw Error("Generator is already running");if(4===i){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===i)throw i=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=3;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?4:2,l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=4,r.method="throw",r.arg=l.arg)}}}(e,r,new E(i||[])),!0),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h={};function d(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==n&&r.call(y,o)&&(m=y);var v=f.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==Tn(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;c(this,"_invoke",(function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}),!0)}function _(e,n){var r=n.method,i=e.i[r];if(i===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=u(i,e.i,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.r]=a.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function E(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function S(e){if(null!=e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Tn(e)+" is not iterable")}return p.prototype=f,c(v,"constructor",f),c(f,"constructor",p),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){a.type="throw",a.arg=e,n.next=t}for(var i=n.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return r("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<l)return r(l),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var i=r;break}}i&&("break"===t||"continue"===t)&&i[0]<=e&&e<=i[2]&&(i=null);var o=i?i[4]:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i[2],h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var i=r.arg;x(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:S(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function Pn(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function Cn(){var t=document.createElement("div");t.innerHTML='\n    <section class="w-full md:w-3/4 mx-auto bg-white p-6 rounded-lg shadow-md mt-4">\n      <h2 class="text-2xl font-bold mb-4">Prediksi Penyakit Umum</h2>\n      <p class="text-gray-700 mb-4">Pilih gejala untuk mendapat prediksi penyakit.</p>\n\n      <form id="common-form" class="relative">\n        <div id="selected-symptoms" class="mb-2 flex flex-wrap gap-2"></div>\n\n        <div class="relative mb-4">\n          <input id="symptom-input" class="p-2 border rounded-md w-full" type="text" placeholder="Masukkan Gejala" autocomplete="off" />\n        </div>\n\n        <button type="submit" class="text-white py-2 px-4 rounded-md" style="background-color: #076ba1;">Prediksi</button>\n      </form>\n\n      <div id="result" class="mt-4"></div>\n    </section>\n  ';var e=t.querySelector("#common-form"),n=t.querySelector("#result"),r=t.querySelector("#symptom-input"),i=t.querySelector("#selected-symptoms"),o={"Nyeri perut":"abdominal_pain","Asam lambung":"acidity","Gangguan kesadaran":"altered_sensorium","Sakit punggung":"back_pain","Nyeri perut bagian bawah":"belly_pain","Ketidaknyamanan kandung kemih":"bladder_discomfort","Darah dalam dahak":"blood_in_sputum","Penglihatan kabur dan berubah":"blurred_and_distorted_vision","Sulit bernafas":"breathlessness",Memar:"bruising","Nyeri saat buang air kecil":"burning_micturition","Nyeri dada":"chest_pain",Menggigil:"chills","Hidung tersumbat":"congestion","Susah buang air besar":"constipation","Sering ingin buang air kecil":"continuous_feel_of_urine","Bersin terus menerus":"continuous_sneezing",Batuk:"cough","Kram otot":"cramps","Rasa sedih":"depression",Diare:"diarrhoea","Lapar berlebihan":"excessive_hunger","Riwayat penyakit keluarga":"family_history","Detak jantung cepat":"fast_heart_rate","Rasa lelah":"fatigue","Bau urin yang tidak sedap":"foul_smell_of urine","Sakit kepala":"headache","Demam tinggi":"high_fever","Gangguan pencernaan":"indigestion","Mudah marah":"irritability","Nyeri sendi":"joint_pain","Kehilangan nafsu makan":"loss_of_appetite","Hilang penciuman":"loss_of_smell","Tidak enak badan":"malaise","Demam ringan":"mild_fever","Dahak lendir":"mucoid_sputum","Nyeri otot":"muscle_pain",Mual:"nausea","Kelebihan berat badan":"obesity","Sakit di belakang mata":"pain_behind_the_eyes",Berdahak:"phlegm","Pembuluh darah betis menonjol":"prominent_veins_on_calf","Bintik merah di tubuh":"red_spots_over_body","Mata merah":"redness_of_eyes","Hidung meler":"runny_nose","Dahak berwarna coklat kemerahan":"rusty_sputum","Menggigil hebat":"shivering","Tekanan pada sinus":"sinus_pressure","Ruam kulit":"skin_rash","Leher terasa kaku":"stiff_neck","Keringat berlebihan":"sweating","Pembengkakan kelenjar getah bening":"swelled_lymph_nodes","Pembuluh darah bengkak":"swollen_blood_vessels","Kaki membengkak":"swollen_legs","Iritasi pada tenggorokan":"throat_irritation","Tanda toksik (typhos)":"toxic_look_(typhos)","Penglihatan terganggu":"visual_disturbances",Muntah:"vomiting","Mata berair":"watering_from_eyes","Kelemahan satu sisi tubuh":"weakness_of_one_body_side","Penurunan berat badan":"weight_loss","Mata menguning":"yellowing_of_eyes"},a=[];function s(t){var e=document.querySelector("#autocomplete-dropdown");e&&e.remove();var n=document.createElement("div");n.id="autocomplete-dropdown",n.classList.add("absolute","bg-white","border","w-full","z-10","mt-1","max-h-48","overflow-y-auto","rounded-md","shadow"),t.forEach((function(t){var e=document.createElement("div");e.classList.add("p-2","cursor-pointer","hover:bg-gray-100"),e.textContent=t,e.addEventListener("click",(function(){a.includes(t)||(a.push(t),c()),n.remove(),r.value=""})),n.appendChild(e)})),r.parentElement.appendChild(n)}function c(){i.innerHTML=a.map((function(t){return'\n    <span class="p-1 text-white rounded-md inline-flex items-center" style="background-color: #076ba1;">\n      '.concat(t,'\n      <span class="ml-2 cursor-pointer text-white font-bold" data-symptom="').concat(t,'"></span>\n    </span>')})).join(""),i.querySelectorAll("span[data-symptom]").forEach((function(t){t.addEventListener("click",(function(){var e=t.getAttribute("data-symptom");a=a.filter((function(t){return t!==e})),c()}))}))}function l(){var t=r.value.toLowerCase(),e=Object.keys(o).filter((function(e){return e.toLowerCase().includes(t)}));if(e.length>0)s(e);else{var n=document.querySelector("#autocomplete-dropdown");n&&n.remove()}}return r.addEventListener("focus",l),r.addEventListener("input",l),document.addEventListener("click",(function(t){setTimeout((function(){var e=document.querySelector("#autocomplete-dropdown");!e||r.contains(t.target)||e.contains(t.target)||e.remove()}),1e4)})),e.addEventListener("submit",function(){var t,e=(t=On().mark((function t(e){var r,i;return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),0!==a.length){t.next=4;break}return n.innerHTML="<p class='text-red-500'>Pilih gejala terlebih dahulu.</p>",t.abrupt("return");case 4:return t.prev=4,t.next=7,fetch("http://localhost:3000/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symptoms:a,model_type:"general"})});case 7:if((r=t.sent).ok){t.next=10;break}throw new Error("Failed to fetch prediction.");case 10:return t.next=12,r.json();case 12:i=t.sent,n.innerHTML='\n        <div class="p-4 border rounded-md bg-green-50">\n          <h3 class="text-lg font-semibold text-green-700 mb-2">Prediksi Penyakit: '.concat(i.prediction,'</h3>\n          <p class="text-gray-800 mb-4">').concat(i.description||"No description available.","</p>\n          ").concat(i.precautions&&i.precautions.length?'<h4 class="font-medium text-green-700 mb-1">Pencegahan:</h4>\n                 <ul class="list-disc list-inside text-gray-700">\n                   '.concat(i.precautions.map((function(t){return"<li>".concat(t,"</li>")})).join(""),"\n                 </ul>"):"",'\n\n        <div class="mt-4 p-3 bg-white border border-gray-200 rounded-md shadow-sm text-center">\n          <p class="text-gray-800 mb-4">\n            Lebih baik mencegah daripada mengobati, segera periksa jika kondisi memburuk. <br>\n            Kami harap informasi ini membantu Anda. Jika berkenan, silakan berikan penilaian atau masukan Anda!\n          </p>\n          <div class="flex justify-center">\n            <a href="#/feedback"\n              class="text-white px-4 py-2 rounded-md transition hover:opacity-90"\n              style="background-color: #076ba1;">\n              Berikan Rating & Masukan\n            </a>\n          </div>\n        </div>\n        </div>\n      '),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),n.innerHTML='<p class="text-red-500">'.concat(t.t0.message,"</p>");case 19:case"end":return t.stop()}}),t,null,[[4,16]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Pn(o,r,i,a,s,"next",t)}function s(t){Pn(o,r,i,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()),t}function An(t){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},An(t)}function Rn(){Rn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n,r){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype);return c(a,"_invoke",function(e,n,r){var i=1;return function(o,a){if(3===i)throw Error("Generator is already running");if(4===i){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===i)throw i=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=3;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?4:2,l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=4,r.method="throw",r.arg=l.arg)}}}(e,r,new E(i||[])),!0),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h={};function d(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==n&&r.call(y,o)&&(m=y);var v=f.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==An(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;c(this,"_invoke",(function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}),!0)}function _(e,n){var r=n.method,i=e.i[r];if(i===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=u(i,e.i,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.r]=a.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function E(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function S(e){if(null!=e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(An(e)+" is not iterable")}return p.prototype=f,c(v,"constructor",f),c(f,"constructor",p),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){a.type="throw",a.arg=e,n.next=t}for(var i=n.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return r("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<l)return r(l),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var i=r;break}}i&&("break"===t||"continue"===t)&&i[0]<=e&&e<=i[2]&&(i=null);var o=i?i[4]:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i[2],h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var i=r.arg;x(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:S(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function In(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function Ln(){var t=document.createElement("div");t.innerHTML='\n    <section class="w-full md:w-3/4 mx-auto bg-white p-6 rounded-lg shadow-md mt-4">\n      <h2 class="text-2xl font-bold mb-4">Prediksi Penyakit Pencernaan</h2>\n      <p class="text-gray-700 mb-3">Pilih gejala untuk mendapat prediksi penyakit pencernaan</p>\n\n      <form id="digestive-form" class="relative">\n        <div id="selected-symptoms" class="mb-2 flex flex-wrap gap-2"></div>\n\n        <div class="relative mb-4">\n          <input id="symptom-input" class="p-2 border rounded-md w-full" type="text" placeholder="Masukkan Gejala" autocomplete="off" />\n        </div>\n\n      <button type="submit" class="text-white py-2 px-4 rounded-md" style="background-color: #076ba1;">Prediksi</button>\n      </form>\n\n      <div id="result" class="mt-4"></div>\n    </section>\n  ';var e=t.querySelector("#digestive-form"),n=t.querySelector("#result"),r=t.querySelector("#symptom-input"),i=t.querySelector("#selected-symptoms"),o={"Nyeri perut":"abdominal_pain","Asam lambung":"acidity","Nyeri dada":"chest_pain",Batuk:"cough",Dehidrasi:"dehydration",Diare:"diarrhoea","Gangguan pencernaan":"indigestion","Gatal dalam tubuh":"internal_itching","Hilang nafsu makan":"loss_of_appetite","Kentut berlebihan":"passage_of_gases","Sakit perut":"stomach_pain","Mata cekung":"sunken_eyes","Luka di lidah":"ulcers_on_tongue",Muntah:"vomiting"},a=[];function s(t){var e=document.querySelector("#autocomplete-dropdown");e&&e.remove();var n=document.createElement("div");n.id="autocomplete-dropdown",n.classList.add("absolute","bg-white","border","w-full","z-10","mt-1","max-h-48","overflow-y-auto","rounded-md","shadow"),t.forEach((function(t){var e=document.createElement("div");e.classList.add("p-2","cursor-pointer","hover:bg-gray-100"),e.textContent=t,e.addEventListener("click",(function(){a.includes(t)||(a.push(t),c()),n.remove(),r.value=""})),n.appendChild(e)})),r.parentElement.appendChild(n)}function c(){i.innerHTML=a.map((function(t){return'\n    <span class="p-1 text-white rounded-md inline-flex items-center" style="background-color: #076ba1;">\n      '.concat(t,'\n      <span class="ml-2 cursor-pointer text-white font-bold" data-symptom="').concat(t,'"></span>\n    </span>')})).join(""),i.querySelectorAll("span[data-symptom]").forEach((function(t){t.addEventListener("click",(function(){var e=t.getAttribute("data-symptom");a=a.filter((function(t){return t!==e})),c()}))}))}function l(){var t=r.value.toLowerCase(),e=Object.keys(o).filter((function(e){return e.toLowerCase().includes(t)}));if(e.length>0)s(e);else{var n=document.querySelector("#autocomplete-dropdown");n&&n.remove()}}return r.addEventListener("focus",l),r.addEventListener("input",l),document.addEventListener("click",(function(t){setTimeout((function(){var e=document.querySelector("#autocomplete-dropdown");!e||r.contains(t.target)||e.contains(t.target)||e.remove()}),1e4)})),e.addEventListener("submit",function(){var t,e=(t=Rn().mark((function t(e){var r,i;return Rn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),0!==a.length){t.next=4;break}return n.innerHTML="<p class='text-red-500'>Pilih gejala terlebih dahulu.</p>",t.abrupt("return");case 4:return t.prev=4,t.next=7,fetch("http://localhost:3000/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symptoms:a,model_type:"general"})});case 7:if((r=t.sent).ok){t.next=10;break}throw new Error("Failed to fetch prediction.");case 10:return t.next=12,r.json();case 12:i=t.sent,n.innerHTML='\n        <div class="p-4 border rounded-md bg-green-50">\n          <h3 class="text-lg font-semibold text-green-700 mb-2">Prediksi Penyakit: '.concat(i.prediction,'</h3>\n          <p class="text-gray-800 mb-4">').concat(i.description||"No description available.","</p>\n          ").concat(i.precautions&&i.precautions.length?'<h4 class="font-medium text-green-700 mb-1">Pencegahan:</h4>\n                 <ul class="list-disc list-inside text-gray-700">\n                   '.concat(i.precautions.map((function(t){return"<li>".concat(t,"</li>")})).join(""),"\n                 </ul>"):"",'\n      <div class="mt-4 p-3 bg-white border border-gray-200 rounded-md shadow-sm text-center">\n        <p class="text-gray-800 mb-4">\n          Lebih baik mencegah daripada mengobati, segera periksa jika kondisi memburuk. <br>\n          Kami harap informasi ini membantu Anda. Jika berkenan, silakan berikan penilaian atau masukan Anda!\n        </p>\n        <div class="flex justify-center">\n          <a href="#/feedback"\n            class="text-white px-4 py-2 rounded-md transition hover:opacity-90"\n            style="background-color: #076ba1;">\n            Berikan Rating & Masukan\n          </a>\n        </div>\n      </div>\n\n      '),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),n.innerHTML='<p class="text-red-500">'.concat(t.t0.message,"</p>");case 19:case"end":return t.stop()}}),t,null,[[4,16]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){In(o,r,i,a,s,"next",t)}function s(t){In(o,r,i,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()),t}function $n(t){return $n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(t)}function Nn(){Nn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n,r){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype);return c(a,"_invoke",function(e,n,r){var i=1;return function(o,a){if(3===i)throw Error("Generator is already running");if(4===i){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===i)throw i=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=3;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?4:2,l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=4,r.method="throw",r.arg=l.arg)}}}(e,r,new E(i||[])),!0),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h={};function d(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==n&&r.call(y,o)&&(m=y);var v=f.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==$n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;c(this,"_invoke",(function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}),!0)}function _(e,n){var r=n.method,i=e.i[r];if(i===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=u(i,e.i,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.r]=a.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function E(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function S(e){if(null!=e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError($n(e)+" is not iterable")}return p.prototype=f,c(v,"constructor",f),c(f,"constructor",p),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){a.type="throw",a.arg=e,n.next=t}for(var i=n.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return r("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<l)return r(l),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var i=r;break}}i&&("break"===t||"continue"===t)&&i[0]<=e&&e<=i[2]&&(i=null);var o=i?i[4]:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i[2],h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var i=r.arg;x(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:S(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function Un(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function Mn(){var t=document.createElement("div");t.innerHTML='\n    <section class="w-full md:w-3/4 mx-auto bg-white p-6 rounded-lg shadow-md mt-4">\n      <h2 class="text-2xl font-bold mb-4">Prediksi Penyakit Kulit</h2>\n      <p class="text-gray-700 mb-4">Pilih gejala untuk mendapat prediksi penyakit kulit</p>\n\n      <form id="skin-form" class="relative">\n        <div id="selected-symptoms" class="mb-2 flex flex-wrap gap-2"></div>\n\n        <div class="relative mb-4">\n          <input id="symptom-input" class="p-2 border rounded-md w-full" type="text" placeholder="Masukkan Gejala" autocomplete="off" />\n        </div>\n\n        <button type="submit" class="text-white py-2 px-4 rounded-md" style="background-color: #076ba1;">Prediksi</button>\n      </form>\n\n      <div id="result" class="mt-4"></div>\n    </section>\n  ';var e=t.querySelector("#skin-form"),n=t.querySelector("#result"),r=t.querySelector("#symptom-input"),i=t.querySelector("#selected-symptoms"),o={Lepuhan:"blister","Bercak diskromik":"dischromic _patches",Kelelahan:"fatigue","Sakit kepala":"headache","Demam tinggi":"high_fever","Radang pada kuku":"inflammatory_nails",Gatal:"itching","Nyeri sendi":"joint_pain",Lesu:"lethargy","Kehilangan nafsu makan":"loss_of_appetite","Tidak enak badan":"malaise","Demam ringan":"mild_fever","Erupsi kulit pada kelenjar getah bening":"nodal_skin_eruptions","Luka merah di sekitar hidung":"red_sore_around_nose","Bintik merah di tubuh":"red_spots_over_body","Kulit berubah menjadi biru atau biru-abu-abu":"silver_like_dusting","Kulit mengelupas":"skin_peeling","Ruam kulit":"skin_rash","Lekukan kecil di kuku":"small_dents_in_nails","Pembengkakan kelenjar getah bening":"swelled_lymph_nodes","Kerak kuning bernanah":"yellow_crust_ooze"},a=[];function s(t){var e=document.querySelector("#autocomplete-dropdown");e&&e.remove();var n=document.createElement("div");n.id="autocomplete-dropdown",n.classList.add("absolute","bg-white","border","w-full","z-10","mt-1","max-h-48","overflow-y-auto","rounded-md","shadow"),t.forEach((function(t){var e=document.createElement("div");e.classList.add("p-2","cursor-pointer","hover:bg-gray-100"),e.textContent=t,e.addEventListener("click",(function(){a.includes(t)||(a.push(t),c()),n.remove(),r.value=""})),n.appendChild(e)})),r.parentElement.appendChild(n)}function c(){i.innerHTML=a.map((function(t){return'\n    <span class="p-1 text-white rounded-md inline-flex items-center" style="background-color: #076ba1;">\n      '.concat(t,'\n      <span class="ml-2 cursor-pointer text-white font-bold" data-symptom="').concat(t,'"></span>\n    </span>')})).join(""),i.querySelectorAll("span[data-symptom]").forEach((function(t){t.addEventListener("click",(function(){var e=t.getAttribute("data-symptom");a=a.filter((function(t){return t!==e})),c()}))}))}function l(){var t=r.value.toLowerCase(),e=Object.keys(o).filter((function(e){return e.toLowerCase().includes(t)}));if(e.length>0)s(e);else{var n=document.querySelector("#autocomplete-dropdown");n&&n.remove()}}return r.addEventListener("focus",l),r.addEventListener("input",l),document.addEventListener("click",(function(t){setTimeout((function(){var e=document.querySelector("#autocomplete-dropdown");!e||r.contains(t.target)||e.contains(t.target)||e.remove()}),1e4)})),e.addEventListener("submit",function(){var t,e=(t=Nn().mark((function t(e){var r,i;return Nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),0!==a.length){t.next=4;break}return n.innerHTML="<p class='text-red-500'>Pilih gejala terlebih dahulu.</p>",t.abrupt("return");case 4:return t.prev=4,t.next=7,fetch("http://localhost:3000/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symptoms:a,model_type:"skin"})});case 7:if((r=t.sent).ok){t.next=10;break}throw new Error("Failed to fetch prediction.");case 10:return t.next=12,r.json();case 12:i=t.sent,n.innerHTML='\n        <div class="p-4 border rounded-md bg-green-50">\n          <h3 class="text-lg font-semibold text-green-700 mb-2">Prediksi Penyakit: '.concat(i.prediction,'</h3>\n          <p class="text-gray-800 mb-4">').concat(i.description||"No description available.","</p>\n          ").concat(i.precautions&&i.precautions.length?'<h4 class="font-medium text-green-700 mb-1">Pencegahan:</h4>\n                 <ul class="list-disc list-inside text-gray-700">\n                   '.concat(i.precautions.map((function(t){return"<li>".concat(t,"</li>")})).join(""),"\n                 </ul>"):"",'\n          <div class="mt-4 p-3 bg-white border border-gray-200 rounded-md shadow-sm text-center">\n            <p class="text-gray-800 mb-4">\n              Lebih baik mencegah daripada mengobati, segera periksa jika kondisi memburuk. <br>\n              Kami harap informasi ini membantu Anda. Jika berkenan, silakan berikan penilaian atau masukan Anda!\n            </p>\n            <div class="flex justify-center">\n              <a href="#/feedback"\n                class="text-white px-4 py-2 rounded-md transition hover:opacity-90"\n                style="background-color: #076ba1;">\n                Berikan Rating & Masukan\n              </a>\n            </div>\n          </div>\n        </div>\n      '),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),n.innerHTML='<p class="text-red-500">'.concat(t.t0.message,"</p>");case 19:case"end":return t.stop()}}),t,null,[[4,16]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Un(o,r,i,a,s,"next",t)}function s(t){Un(o,r,i,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()),t}function Dn(t){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(t)}function Fn(){Fn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n,r){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(e,n,r,i){var o=n&&n.prototype instanceof d?n:d,a=Object.create(o.prototype);return c(a,"_invoke",function(e,n,r){var i=1;return function(o,a){if(3===i)throw Error("Generator is already running");if(4===i){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===i)throw i=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=3;var l=u(e,n,r);if("normal"===l.type){if(i=r.done?4:2,l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=4,r.method="throw",r.arg=l.arg)}}}(e,r,new E(i||[])),!0),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h={};function d(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==n&&r.call(y,o)&&(m=y);var v=f.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==Dn(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;c(this,"_invoke",(function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}),!0)}function _(e,n){var r=n.method,i=e.i[r];if(i===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=u(i,e.i,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.r]=a.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function E(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function S(e){if(null!=e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Dn(e)+" is not iterable")}return p.prototype=f,c(v,"constructor",f),c(f,"constructor",p),p.displayName=c(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){a.type="throw",a.arg=e,n.next=t}for(var i=n.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return r("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<l)return r(l),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var i=r;break}}i&&("break"===t||"continue"===t)&&i[0]<=e&&e<=i[2]&&(i=null);var o=i?i[4]:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i[2],h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var i=r.arg;x(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:S(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function zn(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function qn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gn(r.key),r)}}function Gn(t){var e=function(t){if("object"!=Dn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Dn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Dn(e)?e:e+""}const Bn=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.routes={"/":function(){return(new We).render()},"/feedback":yn,"/contact":function(){return kn.render()},"/bone-form":function(){return jn()},"/general-form":function(){return Cn()},"/digestive-form":function(){return Ln()},"/skin-form":function(){return Mn()}},this.currentRoute="/",this.setupRouting()},e=[{key:"loadPage",value:(n=Fn().mark((function t(e){var n,r,i;return Fn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.routes[e]||this.routes["/"],(r=document.getElementById("app")).innerHTML="",t.next=5,n();case 5:i=t.sent,r.appendChild(i);case 7:case"end":return t.stop()}}),t,this)})),r=function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function a(t){zn(o,r,i,a,s,"next",t)}function s(t){zn(o,r,i,a,s,"throw",t)}a(void 0)}))},function(t){return r.apply(this,arguments)})},{key:"setupRouting",value:function(){var t=this,e=window.location.hash.slice(1)||"/";this.loadPage(e),window.addEventListener("hashchange",(function(){var e=window.location.hash.slice(1);t.routes[e]?t.loadPage(e):t.loadPage("/")}))}}],e&&qn(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}());document.addEventListener("DOMContentLoaded",(function(){console.log("DOM is fully loaded"),Bn.setupRouting()}))})()})();